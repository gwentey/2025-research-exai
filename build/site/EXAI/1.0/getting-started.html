<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üöÄ Installation et D√©marrage d&#8217;EXAI :: Documentation 2025 Research EXAI</title>
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Documentation 2025 Research EXAI</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="EXAI" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Documentation Principale</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Accueil Projet EXAI</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="getting-started.html">üöÄ Installation &amp; D√©marrage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guide Utilisateur</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user-guide/index.html">Pr√©sentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user-guide/dataset-selection.html">üìä S√©lection de Datasets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user-guide/ml-pipeline.html">üõ†Ô∏è Pipeline ML Interactif</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user-guide/xai-recommendation.html">üí° Recommandations XAI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guide D√©veloppeur</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dev-guide/index.html">Pr√©sentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dev-guide/architecture.html">Architecture Technique</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="development/database-migrations.html">Migrations Base de Donn√©es (Alembic)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="development/azure-deployment.html">D√©ploiement Azure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dev-guide/api-reference.html">R√©f√©rence API</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentation Principale</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">Documentation Principale</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Documentation Principale</a></li>
    <li><a href="getting-started.html">üöÄ Installation &amp; D√©marrage</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///C:/xampp/htdocs/2025-research-exai/docs/modules/ROOT/pages/getting-started.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">üöÄ Installation et D√©marrage d&#8217;EXAI</h1>
<div class="sect1">
<h2 id="_pr√©requis"><a class="anchor" href="#_pr√©requis"></a>Pr√©requis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installez les outils suivants:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Outil</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker Desktop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moteur de conteneurisation - <a href="https://www.docker.com/products/docker-desktop/">T√©l√©charger</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minikube</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes local - <code>choco install minikube</code> (Windows) ou <code>brew install minikube</code> (macOS)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">kubectl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLI Kubernetes - <code>choco install kubernetes-cli</code> (Windows) ou <code>brew install kubectl</code> (macOS)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skaffold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow Kubernetes - <code>choco install skaffold</code> (Windows) ou <code>brew install skaffold</code> (macOS)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pour Linux (Debian/Ubuntu):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Minikube
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube

# kubectl
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl

# Skaffold
curl -Lo skaffold https://storage.googleapis.com/skaffold/releases/latest/skaffold-linux-amd64
sudo install skaffold /usr/local/bin/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_d√©ploiement"><a class="anchor" href="#_d√©ploiement"></a>D√©ploiement</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Cloner le d√©p√¥t</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone &lt;URL_DU_DEPOT_GIT_EXAI&gt;
cd &lt;NOM_DU_DOSSIER_PROJET_EXAI&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>D√©marrer Minikube</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">minikube start
# Pour plus de ressources: minikube start --memory 4096 --cpus 2</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Cr√©er le namespace</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl create namespace exai</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Configurer Docker pour Minikube</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Linux/macOS
eval $(minikube docker-env)

# Windows (PowerShell)
&amp; minikube -p minikube docker-env --shell powershell | Invoke-Expression

# Windows (cmd.exe)
@FOR /f "tokens=*" %i IN ('minikube -p minikube docker-env --shell cmd') DO @%i</code></pre>
</div>
</div>
</li>
<li>
<p><strong>D√©ployer avec Skaffold</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Pour le mode local (d√©veloppement)
skaffold dev --profile=local

# Pour un d√©ploiement sur Azure (si configur√©)
# skaffold run --profile=azure</code></pre>
</div>
</div>
<div class="paragraph">
<p>Skaffold va :</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Construire les images Docker pour tous les microservices (frontend, api-gateway, service-selection)</p>
</li>
<li>
<p>D√©ployer les manifestes Kubernetes depuis le dossier <code>k8s/base/</code> (PostgreSQL, API Gateway, Service Selection, Frontend)</p>
</li>
<li>
<p>Configurer des redirections de port (notamment l&#8217;API Gateway sur le port 9000)</p>
</li>
<li>
<p>Surveiller les changements de code et red√©ployer automatiquement</p>
</li>
<li>
<p>Afficher les logs en temps r√©el</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le premier d√©ploiement peut prendre plusieurs minutes. Attendez que tous les pods passent √† l&#8217;√©tat <code>Running</code>.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>ATTENTION</strong></span> : Contrairement √† ce qui pourrait √™tre affich√© dans la console Skaffold, les services ne sont <strong>PAS</strong> directement accessibles via localhost. Vous devez utiliser les commandes <code>minikube service</code> d√©crites dans la section suivante.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_initialisation_de_la_base_de_donn√©es"><a class="anchor" href="#_initialisation_de_la_base_de_donn√©es"></a>Initialisation de la Base de Donn√©es</h3>
<div class="paragraph">
<p>L&#8217;architecture EXAI utilise une base de donn√©es PostgreSQL partag√©e par tous les microservices, chaque service g√©rant ses migrations sp√©cifiques.</p>
</div>
<div class="paragraph">
<p>Ex√©cutez les migrations depuis les pods Kubernetes :</p>
</div>
<div class="sect3">
<h4 id="_service_de_s√©lection"><a class="anchor" href="#_service_de_s√©lection"></a>Service de S√©lection</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 1. Identifier le pod
kubectl get pods -n exai -l app=service-selection

# 2. Ex√©cuter la migration (remplacer &lt;pod-name&gt;)
kubectl exec -it &lt;pod-name&gt; -n exai -- bash -c "cd /app &amp;&amp; DATABASE_URL='postgresql+asyncpg://exai_user:password@postgresql-service:5432/exai_db' alembic upgrade head"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_gateway"><a class="anchor" href="#_api_gateway"></a>API Gateway</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Identifier le pod et ex√©cuter la migration
kubectl get pods -n exai -l app=api-gateway
kubectl exec -it &lt;pod-name&gt; -n exai -- bash -c "cd /app &amp;&amp; DATABASE_URL='postgresql+asyncpg://exai_user:password@postgresql-service:5432/exai_db' alembic upgrade head"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ces commandes ex√©cutent les migrations Alembic directement √† l&#8217;int√©rieur des pods. Cela √©vite les probl√®mes de connectivit√© et assure que la configuration est identique √† celle utilis√©e par l&#8217;application.</p>
</div>
<div class="paragraph">
<p>Chaque service utilise sa propre table de version Alembic (<code>alembic_version_gateway</code> et <code>alembic_version_selection</code>) pour suivre ses migrations dans la base de donn√©es partag√©e.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_acc√©der_√†_lapplication"><a class="anchor" href="#_acc√©der_√†_lapplication"></a>Acc√©der √† l&#8217;Application</h3>
<div class="paragraph">
<p><span class="underline"><strong>IMPORTANT</strong></span> : Les services dans Minikube ne sont accessibles QUE via les commandes suivantes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Acc√©der au Frontend
minikube service frontend-service -n exai

# Acc√©der au Service de S√©lection
minikube service service-selection-service -n exai

# Acc√©der √† l'API Gateway
minikube service api-gateway-service -n exai

# Pour obtenir seulement l'URL (sans ouvrir le navigateur)
minikube service service-selection-service -n exai --url</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sur Windows avec le driver Docker, gardez la fen√™tre du terminal ouverte pendant l&#8217;utilisation du service (elle maintient le tunnel actif).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour obtenir uniquement l&#8217;URL sans ouvrir de navigateur, ajoutez le flag <code>--url</code> :
<code>minikube service service-selection-service -n exai --url</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workflow_de_d√©veloppement"><a class="anchor" href="#_workflow_de_d√©veloppement"></a>Workflow de D√©veloppement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_structure_des_fichiers_kubernetes"><a class="anchor" href="#_structure_des_fichiers_kubernetes"></a>Structure des Fichiers Kubernetes</h3>
<div class="paragraph">
<p>Le projet utilise maintenant une organisation centralis√©e des fichiers Kubernetes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">k8s/
‚îú‚îÄ‚îÄ base/                      # Configurations de base communes
‚îÇ   ‚îú‚îÄ‚îÄ api-gateway/           # API Gateway
‚îÇ   ‚îú‚îÄ‚îÄ frontend/              # Frontend
‚îÇ   ‚îú‚îÄ‚îÄ postgres/              # Base de donn√©es PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ service-selection/     # Service de s√©lection de datasets
‚îÇ   ‚îî‚îÄ‚îÄ kustomization.yaml     # Fichier d√©clarant toutes les ressources
‚îî‚îÄ‚îÄ overlays/                  # Surcouches pour diff√©rents environnements
    ‚îî‚îÄ‚îÄ azure/                 # Configuration sp√©cifique √† Azure</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette structure suit les principes de Kustomize :
- Le dossier <code>base/</code> contient les configurations communes √† tous les environnements
- Le dossier <code>overlays/</code> contient des surcouches sp√©cifiques √† chaque environnement (comme Azure)</p>
</div>
</div>
<div class="sect2">
<h3 id="_cycle_de_d√©veloppement_avec_skaffold"><a class="anchor" href="#_cycle_de_d√©veloppement_avec_skaffold"></a>Cycle de D√©veloppement avec Skaffold</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifiez votre code dans l&#8217;un des microservices (frontend, api-gateway, service-selection)</p>
</li>
<li>
<p>Skaffold d√©tecte automatiquement les changements</p>
</li>
<li>
<p>Reconstruction et red√©ploiement automatiques des images Docker affect√©es</p>
</li>
<li>
<p>Services red√©marr√©s avec le nouveau code</p>
</li>
<li>
<p>Visualisez les logs en temps r√©el dans la console Skaffold</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Pour un workflow plus fluide, utilisez des outils comme <strong>Lens</strong>, <strong>k9s</strong> ou le <strong>Kubernetes Dashboard</strong> (<code>minikube dashboard</code>).
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_d√©pannage"><a class="anchor" href="#_d√©pannage"></a>D√©pannage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_probl√®mes_courants"><a class="anchor" href="#_probl√®mes_courants"></a>Probl√®mes Courants</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Minikube ne d√©marre pas</strong> : V√©rifiez Docker Desktop, essayez <code>minikube delete</code> puis <code>minikube start</code></p>
</li>
<li>
<p><strong>Pod bloqu√© en <code>Pending</code></strong> : Augmentez les ressources (<code>minikube stop &amp;&amp; minikube config set memory 4096 &amp;&amp; minikube start</code>)</p>
</li>
<li>
<p><strong>Pod en <code>CrashLoopBackOff</code></strong> : V√©rifiez les logs avec <code>kubectl logs -n exai &lt;pod-name&gt;</code></p>
</li>
<li>
<p><strong>Services inaccessibles</strong> : Assurez-vous d&#8217;utiliser les commandes <code>minikube service</code> plut√¥t que localhost</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_√©tapes_de_diagnostic"><a class="anchor" href="#_√©tapes_de_diagnostic"></a>√âtapes de Diagnostic</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Logs Skaffold</p>
</li>
<li>
<p>√âtat des pods : <code>kubectl get pods -n exai</code></p>
</li>
<li>
<p>D√©tails d&#8217;un pod : <code>kubectl describe pod &lt;pod-name&gt; -n exai</code></p>
</li>
<li>
<p>Logs d&#8217;un pod : <code>kubectl logs -n exai &lt;pod-name&gt;</code></p>
</li>
<li>
<p>Logs Minikube : <code>minikube logs</code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_arr√™ter_lenvironnement"><a class="anchor" href="#_arr√™ter_lenvironnement"></a>Arr√™ter l&#8217;environnement</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Arr√™ter Skaffold : Ctrl+C

# Arr√™ter Minikube
minikube stop

# Supprimer compl√®tement Minikube (supprime les donn√©es)
minikube delete</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
