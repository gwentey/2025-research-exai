<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R√©f√©rence de l&#8217;API EXAI :: Documentation 2025 Research EXAI</title>
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Documentation 2025 Research EXAI</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="EXAI" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Documentation Principale</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Accueil Projet EXAI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started.html">üöÄ Installation &amp; D√©marrage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guide Utilisateur</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user-guide/index.html">Pr√©sentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user-guide/dataset-selection.html">üìä S√©lection de Datasets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user-guide/ml-pipeline.html">üõ†Ô∏è Pipeline ML Interactif</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user-guide/xai-recommendation.html">üí° Recommandations XAI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guide D√©veloppeur</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Pr√©sentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="architecture.html">Architecture Technique</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="api-reference.html">R√©f√©rence API</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentation Principale</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Documentation Principale</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Documentation Principale</a></li>
    <li>Guide D√©veloppeur</li>
    <li><a href="api-reference.html">R√©f√©rence API</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///C:/xampp/htdocs/2025-research-exai/docs/modules/ROOT/pages/dev-guide/api-reference.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">R√©f√©rence de l&#8217;API EXAI</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Ce document fournit une vue d&#8217;ensemble structur√©e de l&#8217;API REST de la plateforme EXAI. L&#8217;acc√®s principal aux fonctionnalit√©s se fait via l'<strong>API Gateway</strong>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La ressource <strong>principale et la plus √† jour</strong> pour explorer les API est la <strong>documentation interactive (Swagger UI)</strong> g√©n√©r√©e automatiquement par chaque service FastAPI.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>API Gateway :</strong> Acc√©dez √† <code>&lt;URL_API_GATEWAY&gt;/docs</code> (obtenez l&#8217;URL via <code>minikube service api-gateway --url -n exai</code>).</p>
</li>
<li>
<p><strong>Autres Services (pour debug) :</strong> Acc√©dez √† <code>&lt;URL_SERVICE_X&gt;/docs</code> (obtenez l&#8217;URL via <code>minikube service &lt;nom-service&gt; --url -n exai</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cette page vise √† compl√©ter cette documentation interactive en fournissant :
*   Une vue d&#8217;ensemble des endpoints cl√©s.
*   Des explications sur les concepts transverses comme l&#8217;authentification.
*   Des exemples d&#8217;utilisation avec <code>curl</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pour savoir comment obtenir les URL des services, consultez la section "Acc√©der √† l&#8217;application" du guide <a href="../getting-started.html" class="xref page">Installation &amp; D√©marrage Rapide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authentification_jwt"><a class="anchor" href="#_authentification_jwt"></a>Authentification (JWT)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Toutes les routes de l&#8217;API Gateway (sauf potentiellement <code>/docs</code>, <code>/openapi.json</code> et une route de login) sont prot√©g√©es et n√©cessitent un <strong>jeton JWT (JSON Web Token)</strong> valide.</p>
</div>
<div class="sect2">
<h3 id="_obtenir_un_token"><a class="anchor" href="#_obtenir_un_token"></a>Obtenir un Token</h3>
<div class="paragraph">
<p>Pour obtenir un token, vous devez envoyer une requ√™te POST au endpoint d&#8217;authentification de l&#8217;API Gateway (le chemin exact est √† confirmer, supposons <code>/api/v1/auth/login</code>) avec les identifiants utilisateur.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>M√©thode &amp; Chemin :</strong> <code>POST /api/v1/auth/login</code> (sur l&#8217;API Gateway)</p>
</li>
<li>
<p><strong>Corps de la Requ√™te :</strong> <code>application/x-www-form-urlencoded</code> (courant pour OAuth2/token) ou <code>application/json</code>.</p>
</li>
<li>
<p>Exemple (<code>x-www-form-urlencoded</code>) : <code>username=votre_nom_utilisateur&amp;password=votre_mot_de_passe</code></p>
</li>
<li>
<p>Exemple (<code>json</code>) : <code>{"username": "votre_nom_utilisateur", "password": "votre_mot_de_passe"}</code></p>
</li>
<li>
<p><strong>R√©ponse Succ√®s (200 OK) :</strong> Un objet JSON contenant le token.
<code><code>json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9&#8230;&#8203;",
  "token_type": "bearer"
}
</code></code></p>
</li>
<li>
<p><strong>Exemple <code>curl</code> (form-urlencoded) :</strong>
----
curl -X POST "&lt;URL_API_GATEWAY&gt;/api/v1/auth/login" \
-H "Content-Type: application/x-www-form-urlencoded" \
-d "username=testuser&amp;password=testpassword"
----</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_utiliser_le_token"><a class="anchor" href="#_utiliser_le_token"></a>Utiliser le Token</h3>
<div class="paragraph">
<p>Une fois le token obtenu, vous devez l&#8217;inclure dans l&#8217;en-t√™te <code>Authorization</code> de toutes vos requ√™tes suivantes vers les endpoints prot√©g√©s, en pr√©fixant le token par `Bearer ` (avec un espace).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>En-t√™te HTTP :</strong> <code>Authorization: Bearer &lt;VOTRE_ACCESS_TOKEN&gt;</code></p>
</li>
<li>
<p><strong>Exemple <code>curl</code> (pour un endpoint GET) :</strong>
----
TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9&#8230;&#8203;" # Remplacez par votre token
curl -X GET "&lt;URL_API_GATEWAY&gt;/api/v1/datasets/" \
-H "Authorization: Bearer $TOKEN"
----</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_endpoints_principaux_de_lapi_gateway_apiv1"><a class="anchor" href="#_endpoints_principaux_de_lapi_gateway_apiv1"></a>Endpoints Principaux de l&#8217;API Gateway (<code>/api/v1/&#8230;&#8203;</code>)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;API Gateway expose les routes suivantes, qui sont les points d&#8217;entr√©e pour le Frontend. Elles se chargent de router les appels vers les services backend appropri√©s.</p>
</div>
<div class="paragraph">
<p><strong>(Note : Les chemins exacts <code>/api/v1/&#8230;&#8203;</code> sont des exemples et devront √™tre confirm√©s.)</strong></p>
</div>
<div class="sect2">
<h3 id="_authentification"><a class="anchor" href="#_authentification"></a>Authentification</h3>
<div class="ulist">
<ul>
<li>
<p><code>POST /api/v1/auth/login</code></p>
</li>
<li>
<p><strong>Description :</strong> Permet √† un utilisateur de s&#8217;authentifier et d&#8217;obtenir un token JWT.</p>
</li>
<li>
<p><strong>Service Backend :</strong> Logique g√©r√©e potentiellement par l&#8217;API Gateway elle-m√™me ou un microservice d&#8217;authentification d√©di√© (si cr√©√©).</p>
</li>
<li>
<p><strong>Voir :</strong> Section Authentification ci-dessus.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_gestion_des_datasets_via_service_s√©lection"><a class="anchor" href="#_gestion_des_datasets_via_service_s√©lection"></a>Gestion des Datasets (via Service S√©lection)</h3>
<div class="ulist">
<ul>
<li>
<p><code>GET /api/v1/datasets/</code></p>
</li>
<li>
<p><strong>Description :</strong> Liste les datasets disponibles.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-selection</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service S√©lection ci-dessous.</p>
</li>
<li>
<p><code>POST /api/v1/datasets/</code></p>
</li>
<li>
<p><strong>Description :</strong> Cr√©e un nouveau dataset (m√©tadonn√©es).</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-selection</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service S√©lection ci-dessous.</p>
</li>
<li>
<p><code>GET /api/v1/datasets/{dataset_id}</code></p>
</li>
<li>
<p><strong>Description :</strong> R√©cup√®re les d√©tails d&#8217;un dataset sp√©cifique.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-selection</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service S√©lection ci-dessous.</p>
</li>
<li>
<p><code>POST /api/v1/datasets/search</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> Recherche des datasets selon des crit√®res sp√©cifiques.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-selection</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service S√©lection ci-dessous.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_pipeline_ml_via_service_ml"><a class="anchor" href="#_pipeline_ml_via_service_ml"></a>Pipeline ML (via Service ML)</h3>
<div class="ulist">
<ul>
<li>
<p><code>POST /api/v1/ml/train</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> Lance une t√¢che d&#8217;entra√Ænement de mod√®le ML.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-ml</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service ML ci-dessous.</p>
</li>
<li>
<p><code>GET /api/v1/ml/jobs/{job_id}</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> R√©cup√®re le statut ou les r√©sultats d&#8217;une t√¢che d&#8217;entra√Ænement.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-ml</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service ML ci-dessous.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_explicabilit√©_xai_via_service_xai"><a class="anchor" href="#_explicabilit√©_xai_via_service_xai"></a>Explicabilit√© XAI (via Service XAI)</h3>
<div class="ulist">
<ul>
<li>
<p><code>POST /api/v1/xai/explain</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> Lance une t√¢che de g√©n√©ration d&#8217;explication XAI.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-xai</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service XAI ci-dessous.</p>
</li>
<li>
<p><code>GET /api/v1/xai/jobs/{job_id}</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> R√©cup√®re le statut ou les r√©sultats d&#8217;une t√¢che XAI.</p>
</li>
<li>
<p><strong>Service Backend :</strong> <code>service-xai</code></p>
</li>
<li>
<p><strong>Voir :</strong> R√©f√©rence du Service XAI ci-dessous.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_r√©f√©rence_api_par_service_backend"><a class="anchor" href="#_r√©f√©rence_api_par_service_backend"></a>R√©f√©rence API par Service Backend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cette section d√©taille les endpoints cl√©s expos√©s par chaque microservice backend. Notez que ces endpoints sont normalement appel√©s <strong>via</strong> l&#8217;API Gateway, mais peuvent √™tre utiles pour le d√©veloppement ou le d√©bogage direct.</p>
</div>
<div class="sect2">
<h3 id="_service_s√©lection_service_selection"><a class="anchor" href="#_service_s√©lection_service_selection"></a>Service S√©lection (<code>service-selection</code>)</h3>
<div class="paragraph">
<p>Ce service g√®re les m√©tadonn√©es des datasets.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Endpoint :</strong> <code>GET /datasets/</code></p>
</li>
<li>
<p><strong>Description :</strong> R√©cup√®re la liste de tous les datasets enregistr√©s.</p>
</li>
<li>
<p><strong>Param√®tres Query :</strong> (Optionnels) <code>skip: int = 0</code>, <code>limit: int = 100</code> pour la pagination.</p>
</li>
<li>
<p><strong>R√©ponse Succ√®s (200 OK) :</strong> Liste d&#8217;objets Dataset.
<code><code>json
[
  {
    "id": 1,
    "name": "Dataset Iris",
    "description": "Le classique dataset Iris.",
    "file_path": "/data/iris.csv",
    "file_type": "csv"
  },
  &#8230;&#8203;
]
</code></code></p>
</li>
<li>
<p><strong>Exemple <code>curl</code> (authentifi√© via Gateway) :</strong>
----
TOKEN="&#8230;&#8203;"
curl -X GET "&lt;URL_API_GATEWAY&gt;/api/v1/datasets/?limit=10" -H "Authorization: Bearer $TOKEN"
----</p>
</li>
<li>
<p><strong>Endpoint :</strong> <code>POST /datasets/</code></p>
</li>
<li>
<p><strong>Description :</strong> Enregistre un nouveau dataset dans le catalogue.</p>
</li>
<li>
<p><strong>Corps de la Requ√™te (JSON) :</strong> Objet <code>DatasetCreate</code>.
<code><code>json
{
  "name": "Mon Nouveau Dataset",
  "description": "Description du dataset.",
  "file_path": "/chemin/vers/fichier.csv",
  "file_type": "csv"
}
</code></code></p>
</li>
<li>
<p><strong>R√©ponse Succ√®s (201 Created) :</strong> L&#8217;objet Dataset cr√©√© (avec son ID).
<code><code>json
{
  "id": 3,
  "name": "Mon Nouveau Dataset", &#8230;&#8203;
}
</code></code></p>
</li>
<li>
<p><strong>Exemple <code>curl</code> (authentifi√© via Gateway) :</strong>
----
TOKEN="&#8230;&#8203;"
curl -X POST "&lt;URL_API_GATEWAY&gt;/api/v1/datasets/" \
-H "Authorization: Bearer $TOKEN" \
-H "Content-Type: application/json" \
-d '{"name": "Test", "description": "Test desc", "file_path": "/path", "file_type": "csv"}'
----</p>
</li>
<li>
<p><strong>Endpoint :</strong> <code>GET /datasets/{dataset_id}</code></p>
</li>
<li>
<p><strong>Description :</strong> R√©cup√®re les d√©tails d&#8217;un dataset par son ID.</p>
</li>
<li>
<p><strong>Param√®tre Path :</strong> <code>{dataset_id}: int</code>.</p>
</li>
<li>
<p><strong>R√©ponse Succ√®s (200 OK) :</strong> Objet Dataset.</p>
</li>
<li>
<p><strong>R√©ponse Erreur (404 Not Found) :</strong> Si l&#8217;ID n&#8217;existe pas.</p>
</li>
<li>
<p><strong>Exemple <code>curl</code> (authentifi√© via Gateway) :</strong>
----
TOKEN="&#8230;&#8203;"
curl -X GET "&lt;URL_API_GATEWAY&gt;/api/v1/datasets/1" -H "Authorization: Bearer $TOKEN"
----</p>
</li>
<li>
<p><strong>Endpoint :</strong> <code>POST /datasets/search</code> (Exemple)</p>
</li>
<li>
<p><strong>Description :</strong> Recherche des datasets selon des crit√®res.</p>
</li>
<li>
<p><strong>Corps de la Requ√™te (JSON) :</strong> Objet <code>DatasetSearchCriteria</code>.
<code><code>json
{
  "name_contains": "Iris",
  "min_rows": 100,
  "ethical_tags": ["no_bias"]
}
</code></code></p>
</li>
<li>
<p><strong>R√©ponse Succ√®s (200 OK) :</strong> Liste des objets Dataset correspondants.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_service_ml_service_ml"><a class="anchor" href="#_service_ml_service_ml"></a>Service ML (<code>service-ml</code>)</h3>
<div class="paragraph">
<p><strong>(Endpoints √† d√©finir et documenter ici : lancement entra√Ænement, r√©cup√©ration statut/r√©sultats&#8230;&#8203;)</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_service_xai_service_xai"><a class="anchor" href="#_service_xai_service_xai"></a>Service XAI (<code>service-xai</code>)</h3>
<div class="paragraph">
<p><strong>(Endpoints √† d√©finir et documenter ici : lancement explication, r√©cup√©ration statut/r√©sultats&#8230;&#8203;)</strong></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mod√®les_de_donn√©es_communs_exemples"><a class="anchor" href="#_mod√®les_de_donn√©es_communs_exemples"></a>Mod√®les de Donn√©es Communs (Exemples)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_objet_dataset"><a class="anchor" href="#_objet_dataset"></a>Objet <code>Dataset</code></h3>
<div class="paragraph">
<p>Repr√©sente les m√©tadonn√©es d&#8217;un jeu de donn√©es.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "id": int,             // Identifiant unique g√©n√©r√© par la base de donn√©es
  "name": str,           // Nom du dataset
  "description": str,    // Description textuelle
  "file_path": str,      // Chemin d'acc√®s au fichier de donn√©es (sur un volume partag√© ?)
  "file_type": str,      // Type de fichier (ex: "csv", "parquet")
  "metadata": dict | None // Autres m√©tadonn√©es techniques/√©thiques/m√©tier (nb lignes, colonnes, tags...)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
