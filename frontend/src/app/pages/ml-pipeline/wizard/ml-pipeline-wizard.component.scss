// ==================================================
// WIZARD ML PIPELINE - DESIGN MODERNE ET SOPHISTIQUÉ
// Utilise les design tokens partagés (disponibles globalement via :root)
// ==================================================

// Import des styles pour l'interface de nettoyage multi-colonnes
@use './ml-pipeline-wizard-cleaning.scss';

// ==================================================
// RESET ET BASE
// ==================================================

// Debug info pour progression
.progress-debug {
  opacity: 0.7;
  font-size: 0.75rem;
  font-family: monospace;
  color: #64748b;
  display: block;
  margin-top: 0.25rem;
}

* {
  box-sizing: border-box;
}

// ==================================================
// CONTAINER MODERNE - STYLE SAAS PREMIUM
// ==================================================

.modern-wizard-container {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  font-feature-settings: 'kern' 1, 'liga' 1;
  letter-spacing: -0.025em;
  line-height: 1.6;
  color: #0f172a;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  min-height: 100vh;
  width: 100%;
  position: relative;

  // Pattern de fond subtil
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.03) 1px, transparent 0);
    background-size: 20px 20px;
    pointer-events: none;
  }
}

// ==================================================
// LOADING MODERNE
// ==================================================

.modern-loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(248, 250, 252, 0.98);
      backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;

  .loading-card {
    background: white;
    border-radius: 24px;
    padding: 3rem 2.5rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.08);
    border: 1px solid #e2e8f0;
    text-align: center;
    max-width: 400px;
    width: 100%;
    margin: 0 1rem;

    .loading-icon {
      margin-bottom: 1.5rem;

      mat-icon {
        font-size: 48px;
        width: 48px;
        height: 48px;
        color: #242e54;

        &.animate-spin {
          animation: spin 2s linear infinite;
        }
      }
    }

    .loading-title {
      font-size: 1.375rem;
      font-weight: 700;
      color: #0f172a;
      margin: 0 0 0.5rem 0;
      letter-spacing: -0.025em;
    }

    .loading-subtitle {
      font-size: 0.875rem;
      color: #64748b;
      margin: 0 0 1.5rem 0;
    }

    .loading-progress {
  width: 100%;
      height: 4px;
      background: #e2e8f0;
      border-radius: 2px;
      overflow: hidden;

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #242e54 0%, #8b5cf6 100%);
        border-radius: 2px;
        animation: progress 2s ease-in-out infinite;
      }
    }
  }
}

@keyframes progress {
  0% { width: 0%; }
  50% { width: 70%; }
  100% { width: 100%; }
}

// ==================================================
// LAYOUT PRINCIPAL MODERNE
// ==================================================

.modern-wizard-layout {
  display: flex;
  min-height: 100vh;
  background: transparent;
  width: 100%;
  position: relative;
  z-index: 1;
}

// Sidebar navigation moderne flottante avec ombres prononcées
.wizard-sidebar {
  width: 280px;
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-3xl);
  padding: var(--space-2xl) var(--space-xl);
  display: flex;
  flex-direction: column;
  position: fixed;
  height: calc(100vh - 40px);
  left: 20px;
  top: 20px;
  z-index: 10;
  // Ombres subtiles harmonisées
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(var(--backdrop-blur));

  .wizard-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-3xl);
    padding: var(--space-md) 0;

    .logo-icon {
      width: 48px;
      height: 48px;
      background: var(--gradient-primary);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;

      mat-icon {
        color: var(--text-on-primary);
        font-size: 28px;
        width: 28px;
        height: 28px;
      }
    }

    .logo-text {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
      letter-spacing: var(--letter-spacing-tight);
    }
  }

  .wizard-nav {
    flex: 1;
    padding: var(--space-lg) 0;
    display: flex;
    justify-content: center;

    .nav-section {
      position: relative;
      width: 100%;

      .nav-steps {
        position: relative;

        .nav-step {
          display: flex;
          align-items: center;
          gap: var(--space-lg);
          padding: var(--space-md) var(--space-md);
          margin-bottom: var(--space-sm);
          cursor: pointer;
          transition: all var(--transition-base);
          text-decoration: none;
          position: relative;
          z-index: 1;

          &:hover {
            background: rgba(var(--color-primary-rgb), 0.04);
            border-radius: var(--radius-md);

            .step-indicator {
              transform: scale(1.1);
              box-shadow: 0 0 0 4px rgba(var(--color-primary-rgb), 0.1);
            }
          }

          &.active {
            .step-indicator {
              background: var(--color-primary);
              border-color: var(--color-primary);

              .step-number {
                color: white;
                font-weight: 600;
              }
            }

            .step-content .step-title {
              color: var(--color-primary);
              font-weight: 500;
            }
          }

          &.completed {
            .step-indicator {
              background: var(--color-success);
              border-color: var(--color-success);

              .step-number {
                display: none;
              }

              &::after {
                content: '✓';
                color: white;
                font-size: 12px;
                font-weight: 600;
              }
            }

            .step-content .step-title {
              opacity: 0.8;
            }
          }

          &.error {
            .step-indicator {
              background: #ef4444;
              border-color: #ef4444;

              .step-number {
                display: none;
              }

              &::after {
                content: '!';
                color: white;
                font-size: 12px;
                font-weight: 600;
              }
            }

            .step-content .step-title {
              color: #ef4444;
              font-weight: 600;
            }
          }

          .step-indicator {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-base);
            flex-shrink: 0;
            position: relative;

            .step-number {
              font-size: 15px;
              font-weight: 600;
              color: var(--text-secondary);
              line-height: 1;
            }
          }

          .step-content {
            flex: 1;
            min-width: 0;

            .step-title {
              font-size: 17px;
              font-weight: 500;
              color: var(--text-primary);
              line-height: 1.3;
              margin: 0;
              transition: all var(--transition-base);
            }
          }
        }
      }
      }
}

// Section des crédits dans le wizard - Design moderne
.wizard-credits-section {
  margin-top: 12px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: 12px;
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.08);
  transition: all 0.2s ease;

  &:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
  }

  .credits-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;

    .credits-icon {
      font-size: 16px;
      color: #3b82f6;
      opacity: 0.8;
    }

    .credits-title {
      font-size: 12px;
      font-weight: 600;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  }

  .credits-indicator-wrapper {
    display: flex;
    align-items: center;
    gap: 12px;

    .credits-text {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 2px;

      .credits-number {
        font-size: 14px;
        font-weight: 700;
        color: #0f172a;
        line-height: 1;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .credits-label {
        font-size: 10px;
        font-weight: 500;
        color: #64748b;
        line-height: 1;
      }
    }
  }

  // Styles pour le composant credits-indicator dans le contexte du wizard
  app-credits-indicator {
    ::ng-deep {
      .credits-indicator {
        &.size-small {
          --circle-size: 40px;
          --font-size-number: 12px;
        }
      }

      .progress-ring-progress {
        &.high {
          stroke: #10b981;
        }
        &.medium {
          stroke: #f59e0b;
        }
        &.low {
          stroke: #ef4444;
        }
      }

      .progress-ring-background {
        stroke: #e2e8f0;
      }

      .credits-number {
        color: #0f172a;
        font-weight: 600;
      }
    }
  }
}

.wizard-progress-overview {
    margin-top: auto;
    padding: var(--space-lg) var(--space-sm);

    .progress-title {
      font-size: 11px;
      font-weight: 500;
      color: var(--text-tertiary);
      margin-bottom: var(--space-md);
      text-transform: uppercase;
      letter-spacing: 0.15em;
      text-align: left;
      padding: 0 var(--space-sm);
    }

    .progress-bar {
      // Copie du mixin progress-modern en CSS direct
      width: 100%;
      height: var(--progress-height);
      background: var(--progress-bg);
      border-radius: var(--radius-full);
      overflow: hidden;
      position: relative;
      margin-bottom: var(--space-lg);
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);

      .progress-fill {
        height: 100%;
        background: var(--progress-fill);
        border-radius: inherit;
        transition: width 0.6s var(--ease-out);
        position: relative;
        box-shadow: var(--shadow-primary);

        // Effet shimmer amélioré
        &::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
          animation: shimmer 2.5s infinite ease-in-out;
          border-radius: inherit;
        }
      }
    }

    .progress-text {
      font-size: 12px;
      color: var(--text-secondary);
      text-align: left;
      font-weight: 500;
      padding: 0 var(--space-sm);
    }
  }
}

// ==================================================
// CONTENU PRINCIPAL MODERNE
// ==================================================

.modern-wizard-main {
  flex: 1;
  margin-left: 320px;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: transparent;
}

// ==================================================
// HEADER FLOTTANT MODERNE
// ==================================================

.modern-floating-header {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-3xl);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(var(--backdrop-blur));
  position: sticky;
  top: 20px;
  margin: 20px;
  z-index: 100;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  .header-container {
  display: flex;
  align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 1.25rem 2rem;

    .header-left {
      .step-indicator {
        display: flex;
        align-items: center;
        gap: 1rem;

        .step-icon {
          color: #242e54;
          font-size: 1.75rem !important;
          width: 1.75rem !important;
          height: 1.75rem !important;
          line-height: 1.75rem !important;
          display: inline-flex !important;
          align-items: center !important;
          justify-content: center !important;

          &.animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
          }
        }

        .step-info {
          .step-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0f172a;
            margin: 0 0 0.25rem 0;
            letter-spacing: -0.025em;
            line-height: 1.25;
          }

          .step-subtitle {
            font-size: 0.875rem;
            color: #64748b;
            margin: 0;
            line-height: 1.4;
          }
        }
      }
    }

    .header-right {
  display: flex;
      align-items: center;
      gap: 1.5rem;

      .progress-indicator {
    display: flex;
    align-items: center;
        gap: 0.75rem;

        .progress-text {
          font-size: 0.875rem;
          font-weight: 500;
          color: #475569;
        }

        .progress-circle {
          position: relative;

          .progress-ring {
            transform: rotate(-90deg);
          }

          .progress-circle-active {
            transition: stroke-dashoffset 0.5s cubic-bezier(0.4, 0, 0.2, 1);
          }
        }
      }

      .modern-back-button {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.625rem 1rem;
        background: transparent;
        border: 1px solid #d1d5db;
        border-radius: 0.5rem;
        color: #374151;
          font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

        &:hover {
          background: #f9fafb;
          border-color: #9ca3af;
          transform: translateY(-1px);
        }

                  mat-icon {
            font-size: 1rem !important;
            width: 1rem !important;
            height: 1rem !important;
            line-height: 1rem !important;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
          }
      }
    }
  }
}

// ==================================================
// STEPPER CACHÉ POUR LA LOGIQUE
// ==================================================

.hidden-stepper {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  position: absolute !important;
  top: -9999px !important;
  left: -9999px !important;
}

// ==================================================
// ZONE DE CONTENU MODERNE
// ==================================================

.modern-content-area {
  flex: 1;
  padding: 0;
  display: flex;
  flex-direction: column;

  .modern-step-content {
    flex: 1;
    display: flex;
    justify-content: center;

    .content-container {
      width: 100%;
      max-width: 1200px;

      .step-wrapper {
        .modern-step-card {
          background: var(--bg-primary);
          border: 1px solid var(--border-color);
          border-radius: var(--radius-3xl);
          box-shadow: var(--shadow-card);
          backdrop-filter: blur(var(--backdrop-blur));
          margin: 20px;
          overflow: hidden;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

          &:hover {
            transform: translateY(-2px);
          }

          .card-header {
      display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 2rem 2rem 1.5rem;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);

            .icon-container {
        display: flex;
        align-items: center;
        justify-content: center;
              width: 4rem;
              height: 4rem;
              background: linear-gradient(135deg, #242e54 0%, #8b5cf6 100%);
              border-radius: 1rem;
              flex-shrink: 0;

              .step-icon-modern {
                font-size: 2rem;
                width: 2rem;
                height: 2rem;
          color: white;
        }
      }

            .header-text {
              flex: 1;

              .modern-step-title {
                font-size: 1.75rem;
                font-weight: 700;
                color: #0f172a;
                margin: 0 0 0.5rem 0;
                letter-spacing: -0.025em;
                line-height: 1.25;
              }

              .modern-step-description {
                font-size: 1rem;
                color: #64748b;
                margin: 0;
                line-height: 1.5;
              }
            }
          }

          .step-body {
            padding: 2rem;
          }
        }
      }
    }
  }
}

.step-container {
  background: var(--bg-primary);
  border-radius: var(--radius-2xl);
  border: 1px solid var(--border-color);
  overflow: hidden;
  margin-bottom: var(--space-2xl);
  transition: all var(--transition-base);

  &:hover {
    border-color: var(--border-color-dark);
    box-shadow: var(--shadow-md);
  }

  .step-header {
    padding: var(--space-2xl) var(--space-2xl) var(--space-xl);
    border-bottom: 1px solid var(--border-color-light);
    text-align: center;

  .step-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
      border-radius: var(--radius-xl);
    display: flex;
    align-items: center;
    justify-content: center;
      margin: 0 auto var(--space-lg);

        mat-icon {
        font-size: 32px !important;
        width: 32px !important;
        height: 32px !important;
        line-height: 32px !important;
        color: var(--text-inverse);
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
  }

    .step-title {
      font-size: 28px;
    font-weight: 700;
    color: var(--text-primary);
      margin: 0 0 var(--space-sm) 0;
      line-height: 1.2;
    }

    .step-description {
      font-size: 16px;
      color: var(--text-secondary);
      margin: 0;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.5;
    }
  }

  .step-body {
    padding: var(--space-2xl);
  }
}

// ==================================================
// COMPOSANTS MODERNES
// ==================================================

// Cards modernes flottantes
.modern-card {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 24px;
  padding: var(--space-xl);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(0, 0, 0, 0.02);
  position: relative;
      backdrop-filter: blur(8px);

  // Effet de glass moderne
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
  }

  &:hover {
    border-color: rgba(99, 102, 241, 0.2);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1), 0 8px 24px rgba(0, 0, 0, 0.06), 0 4px 12px rgba(0, 0, 0, 0.04);
    transform: translateY(-4px);
  }

  &.interactive {
    cursor: pointer;

    &:hover {
      transform: translateY(-6px) scale(1.005);
      box-shadow: 0 24px 48px rgba(0, 0, 0, 0.12), 0 12px 32px rgba(0, 0, 0, 0.08), 0 6px 16px rgba(0, 0, 0, 0.06);
    }
  }

  &.selected {
    border-color: #242e54;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
    box-shadow: 0 16px 40px rgba(99, 102, 241, 0.15), 0 8px 24px rgba(99, 102, 241, 0.1), 0 4px 12px rgba(99, 102, 241, 0.05);
  }
}

// Formulaires modernes
.form-group {
  margin-bottom: var(--space-lg);

  .form-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
  }

  .form-description {
    font-size: 13px;
    color: var(--text-tertiary);
    margin-bottom: var(--space-md);
  }

  .form-input {
    width: 100%;
    padding: var(--space-md);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-size: 14px;
    transition: all var(--transition-fast);
    background: var(--bg-primary);
    font-family: inherit;

    &:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    &[type="range"] {
      height: 6px;
      background: var(--color-gray-200);
      outline: none;
      border-radius: var(--radius-full);

      &::-webkit-slider-thumb {
        appearance: none;
      width: 20px;
      height: 20px;
        background: var(--color-primary);
        border-radius: var(--radius-full);
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      &::-moz-range-thumb {
      width: 20px;
      height: 20px;
        background: var(--color-primary);
        border-radius: var(--radius-full);
        cursor: pointer;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
    }

    &[type="checkbox"], &[type="radio"] {
      width: auto;
      margin-right: var(--space-sm);
      accent-color: var(--color-primary);
    }
  }

  .form-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--space-sm) center;
    background-repeat: no-repeat;
    background-size: 16px 12px;
    padding-right: var(--space-2xl);
  }
}

// Boutons modernes
.btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-lg);
  border-radius: var(--radius-md);
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;
    cursor: pointer;
  border: none;
  transition: all var(--transition-fast);

    &:disabled {
      opacity: 0.5;
    cursor: not-allowed;
  }

  &.btn-primary {
    background: var(--color-primary);
    color: var(--text-inverse);

    &:hover:not(:disabled) {
      background: var(--color-primary-dark);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }
  }

  &.btn-secondary {
    background: var(--bg-tertiary);
    color: var(--text-secondary);

    &:hover:not(:disabled) {
      background: var(--color-gray-200);
      color: var(--text-primary);
    }
  }

  &.btn-ghost {
    background: transparent;
    color: var(--text-secondary);

    &:hover:not(:disabled) {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }
  }

  &.btn-lg {
    padding: var(--space-lg) var(--space-xl);
    font-size: 16px;
  }

  &.btn-sm {
    padding: var(--space-sm) var(--space-md);
    font-size: 13px;
  }
}

// ==================================================
// NAVIGATION MODERNE FLOTTANTE
// ==================================================

.modern-navigation {
  position: sticky;
  bottom: 20px;
  margin: 20px;
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-3xl);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(var(--backdrop-blur));
  z-index: 50;

  .navigation-container {
  display: flex;
  align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 1.5rem 2rem;

    .nav-left, .nav-right {
      flex: 1;
    }

    .nav-left {
      display: flex;
      justify-content: flex-start;
    }

    .nav-center {
      display: flex;
      justify-content: center;

      .step-dots-modern {
        display: flex;
        gap: 0.75rem;

        .dot-modern {
          position: relative;
          width: 2.5rem;
          height: 2.5rem;
    border-radius: 50%;
          background: #f1f5f9;
          border: 2px solid #e2e8f0;
          display: flex;
          align-items: center;
          justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

          .dot-number {
            font-size: 0.875rem;
            font-weight: 600;
            color: #64748b;
          }

          &.active {
            background: #242e54;
            border-color: #242e54;
      transform: scale(1.1);

            .dot-number {
        color: white;
            }
          }

          &.completed {
            background: #10b981;
            border-color: #10b981;

            .dot-number {
              color: white;
            }
          }

          &.error {
            background: #ef4444;
            border-color: #ef4444;

            .dot-number {
              color: white;
            }
          }
        }
      }
    }

    .nav-right {
      display: flex;
      justify-content: flex-end;
    }

    .modern-nav-button {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: none;

                mat-icon {
            font-size: 1.125rem !important;
            width: 1.125rem !important;
            height: 1.125rem !important;
            line-height: 1.125rem !important;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
          }

      &.secondary {
        background: #f8fafc;
        color: #475569;
        border: 1px solid #e2e8f0;

        &:hover:not(:disabled) {
          background: #f1f5f9;
          border-color: #cbd5e1;
          transform: translateY(-1px);
        }
      }

      &.primary {
        background: linear-gradient(135deg, #242e54 0%, #8b5cf6 100%);
        color: white;
        box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.3);

        &:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.4);
        }
      }

      &.launch {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
        box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.3);
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

        &:hover:not(:disabled) {
          animation: none;
          transform: translateY(-2px);
          box-shadow: 0 10px 15px -3px rgba(245, 158, 11, 0.4);
        }
      }

      &.success {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.3);

        &:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.4);
        }
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
        box-shadow: none !important;
      }
    }
  }
}

// ==================================================
// COMPOSANTS SPÉCIFIQUES
// ==================================================

// Dataset card
.dataset-card {
  display: flex;
  gap: var(--space-lg);
  padding: var(--space-xl);
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-3xl);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(var(--backdrop-blur));
  margin: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  .dataset-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, var(--color-secondary) 0%, #059669 100%);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;

        mat-icon {
        font-size: 32px !important;
        width: 32px !important;
        height: 32px !important;
        line-height: 32px !important;
        color: var(--text-inverse);
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
  }

  .dataset-content {
    flex: 1;

    .dataset-name {
      font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
      margin: 0 0 var(--space-sm) 0;
  }

    .dataset-description {
      font-size: 14px;
    color: var(--text-secondary);
      margin: 0 0 var(--space-md) 0;
      line-height: 1.5;
    }

    .dataset-stats {
      display: flex;
      gap: var(--space-lg);

      .stat {
        display: flex;
        align-items: center;
        gap: var(--space-xs);
        font-size: 13px;
        color: var(--text-tertiary);

        mat-icon {
          font-size: 16px !important;
          width: 16px !important;
          height: 16px !important;
          line-height: 16px !important;
          display: inline-flex !important;
          align-items: center !important;
          justify-content: center !important;
        }
      }
    }

    .dataset-tags {
      display: flex;
      gap: var(--space-sm);
      margin-top: var(--space-md);

      .tag {
        padding: var(--space-xs) var(--space-sm);
        background: var(--bg-tertiary);
        color: var(--text-secondary);
        border-radius: var(--radius-sm);
        font-size: 12px;
        font-weight: 500;
      }
    }
  }
}

// Algorithm selection
.algorithm-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-lg);
  margin: var(--space-xl) 0;
}

.algorithm-card {
  position: relative;

  &.selected {
    .algorithm-content {
      border-color: var(--color-primary);
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(129, 140, 248, 0.05) 100%);
    }

    .selection-indicator {
      opacity: 1;
      transform: scale(1);
    }
  }

  .algorithm-content {
    padding: var(--space-xl);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-xl);
    cursor: pointer;
    transition: all var(--transition-base);
    background: var(--bg-primary);

      &:hover {
      border-color: var(--border-color-dark);
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
  }

  .selection-indicator {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
        width: 24px;
        height: 24px;
    background: var(--color-primary);
    border-radius: var(--radius-full);
  display: flex;
  align-items: center;
    justify-content: center;
    opacity: 0;
    transform: scale(0.8);
    transition: all var(--transition-fast);

    mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
      color: var(--text-inverse);
    }
  }

  .algorithm-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);

    .algorithm-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--color-accent) 0%, #d97706 100%);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;

            mat-icon {
        font-size: 24px !important;
        width: 24px !important;
        height: 24px !important;
        line-height: 24px !important;
        color: var(--text-inverse);
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
    }

    .algorithm-name {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-primary);
      margin: 0;
    }
  }

  .algorithm-description {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: var(--space-lg);
  }

  .algorithm-features {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;

    .feature {
      padding: var(--space-xs) var(--space-sm);
      background: var(--bg-tertiary);
      color: var(--text-secondary);
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 500;
    }
  }
}

// Loading states
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-overlay, rgba(255, 255, 255, 0.95));
      backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;

  .loading-content {
    text-align: center;
    padding: 2rem;

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 3px solid var(--color-gray-200, #e5e7eb);
      border-top: 3px solid var(--color-primary, #242e54);
      border-radius: var(--radius-full, 50%);
      animation: spin 1s linear infinite;
      margin: 0 auto var(--space-lg, 24px);
    }

    .loading-text {
      font-size: 16px;
      font-weight: 500;
      color: var(--text-secondary, #374151);
    }
  }
}

// ==================================================
// ANIMATIONS MODERNES
// ==================================================

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

// ==================================================
// RESPONSIVE DESIGN
// ==================================================

@media (max-width: 1024px) {
  .wizard-sidebar {
    transform: translateX(-100%);
    transition: transform var(--transition-base);

    &.open {
      transform: translateX(0);
    }
  }

  .wizard-main {
    margin-left: 0;
  }

  .wizard-header {
    padding: var(--space-md) var(--space-lg);
  }

  .wizard-content {
    padding: var(--space-lg);
  }
  }

@media (max-width: 768px) {
  .algorithm-grid {
    grid-template-columns: 1fr;
  }

  .step-navigation {
    flex-direction: column;
    gap: var(--space-lg);

    .nav-buttons {
      width: 100%;
      justify-content: space-between;
    }
  }

  .dataset-card {
    flex-direction: column;
    text-align: center;

    .dataset-stats {
      justify-content: center;
      flex-wrap: wrap;
    }
  }

  .wizard-header .header-content {
    flex-direction: column;
    gap: var(--space-md);
    text-align: center;
  }
}

// ==================================================
// ANIMATIONS AVANCÉES
// ==================================================

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s var(--ease-out);
}

.animate-slide-in-right {
  animation: slideInRight 0.5s var(--ease-out);
}

.animate-scale-in {
  animation: scaleIn 0.4s var(--ease-out);
}

// Stagger animations
.stagger-children > * {
  animation: fadeInUp 0.6s var(--ease-out);
}

.stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.5s; }

// ==================================================
// CONTENU PERSONNALISÉ
// ==================================================

.custom-step-content {
  .step-container {
    margin-bottom: 0; // Remove margin since we're not using multiple containers
  }
}

// ==================================================
// AMÉLIORATIONS SPÉCIFIQUES
// ==================================================

// Amélioration des labels de formulaires
.form-label {
  display: flex;
  align-items: center;
  cursor: pointer;

  input[type="checkbox"],
  input[type="radio"] {
    margin-right: var(--space-sm);
    transform: scale(1.1);
  }
}

// Amélioration de la grille flexible
.flex {
  display: flex;

  &.gap-lg {
    gap: var(--space-lg);
    flex-wrap: wrap;

    > div {
      min-width: 200px;
    }
  }
}

// Styles pour les statistiques de dataset
    .dataset-stats {
  .stat {
    min-width: 150px;
    white-space: nowrap;
  }
}

// ==================================================
// UTILITAIRES
// ==================================================

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.w-full { width: 100%; }
.h-full { height: 100%; }
.flex { display: flex; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.gap-lg { gap: var(--space-lg); }
.mt-auto { margin-top: auto; }
.mb-0 { margin-bottom: 0; }

// Classes utilitaires supplémentaires
.cursor-pointer { cursor: pointer; }
.transition-all { transition: all var(--transition-base); }
.overflow-hidden { overflow: hidden; }
.relative { position: relative; }
.absolute { position: absolute; }
.block { display: block; }
.inline-block { display: inline-block; }
.hidden { display: none; }

// ==================================================
// NOUVEAUX COMPOSANTS POUR LE TRAINING ET LES RÉSULTATS
// ==================================================

// Section de logs de training
.training-logs-section {
  margin-top: var(--space-xl);
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-color);
  overflow: hidden;

  .logs-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-lg) var(--space-xl);
    background: linear-gradient(135deg, rgba(var(--color-info-rgb), 0.08) 0%, rgba(var(--color-info-rgb), 0.03) 100%);
    border-bottom: 1px solid var(--border-color);

    h4 {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      margin: 0;
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);

      mat-icon {
        color: var(--color-info);
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
    }

    .logs-controls {
      display: flex;
      gap: var(--space-sm);
    }
  }
}

// Section résultats améliorée
.results-header {
  text-align: center;
  margin-bottom: var(--space-xl);

  .success-icon {
    width: 64px;
    height: 64px;
    background: var(--gradient-secondary);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-lg);
    box-shadow: var(--shadow-secondary);

    mat-icon {
      font-size: 36px;
      width: 36px;
      height: 36px;
      color: var(--text-on-secondary);
    }
  }

  h3 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 var(--space-sm) 0;
  }

  p {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    margin: 0;
  }
}

// Grille de métriques
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-lg);
  margin-bottom: var(--space-xl);

  .metric-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity var(--transition-base);
    }

    &:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
      border-color: rgba(var(--color-primary-rgb), 0.2);

      &::before {
        opacity: 1;
      }
    }

    .metric-icon {
      width: 48px;
      height: 48px;
      background: rgba(var(--color-primary-rgb), 0.1);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-lg);

      mat-icon {
        font-size: 24px;
        width: 24px;
        height: 24px;
        color: var(--color-primary);
      }
    }

    .metric-content {
      .metric-value {
        font-size: var(--font-size-3xl);
        font-weight: var(--font-weight-extrabold);
        color: var(--text-primary);
        margin-bottom: var(--space-xs);
        line-height: var(--line-height-tight);
      }

      .metric-label {
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
        color: var(--text-secondary);
        margin-bottom: var(--space-md);
        text-transform: uppercase;
        letter-spacing: var(--letter-spacing-wide);
      }

      .metric-progress {
        .modern-progress {
          height: 6px;

          &.progress-success .progress-fill {
            background: var(--gradient-secondary);
          }

          &.progress-warning .progress-fill {
            background: var(--gradient-accent);
          }

          &.progress-danger .progress-fill {
            background: linear-gradient(90deg, var(--color-danger) 0%, var(--color-danger-light) 100%);
          }
        }
      }
    }
  }
}

// Guide utilisateur section
.user-guide-section {
  margin-top: var(--space-xl);

  .guide-card {
    background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
    border: 1px solid var(--primary-light);
    border-radius: 12px;
    padding: var(--space-lg);
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);

    .guide-icon {
      color: var(--primary);
      background: white;
      border-radius: 50%;
      padding: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .guide-content {
      flex: 1;

      h4 {
        margin: 0 0 var(--space-sm) 0;
        color: var(--primary-dark);
        font-weight: 600;
      }

      .guide-steps {
        margin: 0;
        padding-left: var(--space-md);

        li {
          margin-bottom: var(--space-xs);
          color: var(--text-primary);
          line-height: 1.5;

          strong {
            color: var(--primary-dark);
          }
        }
      }
    }
  }
}

// Actions des résultats
.results-actions {
  display: flex;
  justify-content: center;
  gap: var(--space-lg);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--border-color);
}

// Header de training amélioré
.training-header {
  margin-bottom: var(--space-xl);

  .modern-spinner {
    margin: 0 auto var(--space-lg);
  }

  h3 {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 var(--space-lg) 0;
  }

  .modern-progress {
    margin: var(--space-lg) auto;
    max-width: 400px;
  }

  p {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    margin: var(--space-lg) 0 0 0;

    strong {
      color: var(--color-primary);
      font-weight: var(--font-weight-bold);
    }
  }
}

// Responsive pour les nouvelles sections
@media (max-width: 768px) {
  .metrics-grid {
    grid-template-columns: 1fr;
    gap: var(--space-md);

    .metric-card {
      padding: var(--space-lg);

      .metric-icon {
        width: 40px;
        height: 40px;

        mat-icon {
          font-size: 20px;
          width: 20px;
          height: 20px;
        }
      }

      .metric-content .metric-value {
        font-size: var(--font-size-2xl);
      }
    }
  }

  .results-actions {
    flex-direction: column;
    gap: var(--space-md);
  }

  .training-logs-section {
    .logs-header {
      padding: var(--space-md) var(--space-lg);
      flex-direction: column;
      gap: var(--space-md);
      align-items: stretch;

      .logs-controls {
        justify-content: center;
      }
    }
  }
}

// ==================================================
// ANIMATIONS MODERNES
// ==================================================

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

// ==================================================
// FIX GLOBAL POUR LES MAT-ICON
// ==================================================

// Fix global pour tous les mat-icon dans le wizard
.modern-wizard-container {
  mat-icon {
    width: 24px !important;
    height: 24px !important;
    font-size: 24px !important;
    line-height: 24px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    overflow: visible !important;

    // Reset des styles par défaut qui pourraient causer des problèmes
    &::before,
    &::after {
      display: none !important;
    }
  }

  // Tailles spécifiques pour certains contextes
  .step-icon mat-icon,
  .step-icon-modern {
    width: 32px !important;
    height: 32px !important;
    font-size: 32px !important;
    line-height: 32px !important;
  }

  .algorithm-icon mat-icon {
    width: 28px !important;
    height: 28px !important;
    font-size: 28px !important;
    line-height: 28px !important;
  }

  .task-card mat-icon,
  .preset-card mat-icon {
    width: 48px !important;
    height: 48px !important;
    font-size: 48px !important;
    line-height: 48px !important;
  }

  .info-icon {
    width: 24px !important;
    height: 24px !important;
    font-size: 24px !important;
    line-height: 24px !important;
  }

  // Petites icônes
  .help-icon,
  .tip mat-icon,
  .detail-row mat-icon,
  .rating mat-icon {
    width: 16px !important;
    height: 16px !important;
    font-size: 16px !important;
    line-height: 16px !important;
  }

  // Icônes dans les badges
  .recommended-badge mat-icon {
    width: 14px !important;
    height: 14px !important;
    font-size: 14px !important;
    line-height: 14px !important;
  }

  // Icônes moyennes
  .checklist-item mat-icon,
  .metric-explain mat-icon {
    width: 20px !important;
    height: 20px !important;
    font-size: 20px !important;
    line-height: 20px !important;
  }

  // Fix supplémentaire pour s'assurer que les icônes ne sont jamais coupées
  .dataset-icon mat-icon,
  .item-icon mat-icon,
  .metric-icon mat-icon,
  .success-icon mat-icon,
  .loading-icon mat-icon {
    overflow: visible !important;
  }

  // Fix pour les icônes dans les éléments flexbox
  .flex mat-icon,
  .dataset-stats mat-icon,
  .guide-item mat-icon,
  .algo-recommendation mat-icon {
    flex-shrink: 0 !important;
  }

  // Fix pour les boutons modernes
  .modern-nav-button mat-icon,
  .modern-back-button mat-icon,
  .modern-btn mat-icon,
  .btn mat-icon {
    overflow: visible !important;
    vertical-align: middle !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  // Fix pour les icônes dans les tables et listes
  table mat-icon,
  ul mat-icon,
  .rating mat-icon {
    vertical-align: middle !important;
  }

  // Fix final pour garantir que toutes les icônes ont la bonne taille
  .modern-console mat-icon,
  .training-logs-section mat-icon,
  .impact-metrics mat-icon,
  .metric-value mat-icon,
  .section-header mat-icon,
  .wizard-credits-section mat-icon {
    flex-shrink: 0 !important;
    overflow: visible !important;
  }
}

// ==================================================
// NOUVEAUX STYLES POUR LES SECTIONS DÉTAILLÉES
// ==================================================

// Carte d'information générale
.info-card {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.02) 100%);
  border: 1px solid rgba(99, 102, 241, 0.2);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  margin-bottom: var(--space-2xl);
  position: relative;
  overflow: hidden;

  &.gradient-border {
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-primary);
    }
  }

  .info-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);

    .info-icon {
      font-size: 24px;
      color: var(--color-primary);
    }

    h4 {
      margin: 0;
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
    }
  }

  .info-content {
    p {
      color: var(--text-secondary);
      line-height: 1.6;
      margin: 0 0 var(--space-lg) 0;
    }

    .info-tips {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);

      .tip {
        display: flex;
        align-items: flex-start;
        gap: var(--space-sm);

        mat-icon {
          font-size: 20px;
          color: var(--color-accent);
          flex-shrink: 0;
          margin-top: 2px;
        }

        span {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);
          line-height: 1.5;

          strong {
            color: var(--text-primary);
            font-weight: var(--font-weight-semibold);
          }
        }
      }
    }
  }
}

// Carte dataset améliorée
.dataset-card.elevated {
  box-shadow: var(--shadow-lg);

  &:hover {
    transform: translateY(-2px);
  }
}

// Explication des métriques
.metrics-explanation {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  margin-top: var(--space-xl);

  h4 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: 0 0 var(--space-lg) 0;
  }

  .metric-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);

    .metric-explain {
      display: flex;
      gap: var(--space-md);

      mat-icon {
        font-size: 32px;
        color: var(--color-primary);
        opacity: 0.8;
      }

      div {
        flex: 1;

        strong {
          display: block;
          font-size: var(--font-size-md);
          color: var(--text-primary);
          margin-bottom: var(--space-xs);
        }

        p {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);
          margin: 0;
          line-height: 1.4;
        }
      }
    }
  }
}

// Sections de configuration
.configuration-sections {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-xl);

  // Responsive : 1 colonne sur petits écrans
  @media (max-width: 1200px) {
    grid-template-columns: 1fr;
  }

  .config-section {
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    border: 1px solid var(--border-color);
    height: fit-content;

    // Section variable cible prend toute la largeur
    &:first-child {
      grid-column: 1 / -1;

      @media (max-width: 1200px) {
        grid-column: 1;
      }
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      margin-bottom: var(--space-xl);

      mat-icon {
        font-size: 28px;
        color: var(--color-primary);
      }

      h3 {
        margin: 0;
        font-size: var(--font-size-xl);
        font-weight: var(--font-weight-semibold);
        color: var(--text-primary);
      }
    }
  }
}

// Cartes de type de tâche
.task-type-cards {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-lg);
  margin-top: var(--space-md);

  // Responsive : empiler sur très petits écrans
  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }

  .task-card {
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    cursor: pointer;
    transition: all var(--transition-base);
    text-align: center;

    &:hover {
      border-color: var(--color-primary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    &.selected {
      border-color: var(--color-primary);
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
      box-shadow: var(--shadow-primary);
    }

    mat-icon {
      font-size: 48px;
      color: var(--color-primary);
      margin-bottom: var(--space-md);
    }

    h4 {
      margin: 0 0 var(--space-sm) 0;
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
    }

    p {
      margin: 0 0 var(--space-sm) 0;
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .example {
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
      font-style: italic;
    }
  }
}

// Explication des stratégies
.strategy-explanation {
  margin-top: var(--space-lg);

  .explanation-card {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    background: rgba(99, 102, 241, 0.05);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    border-left: 3px solid var(--color-primary);

    mat-icon {
      font-size: 24px;
      color: var(--color-primary);
      flex-shrink: 0;
    }

    p {
      margin: 0;
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.5;
    }
  }
}

// Visualisation de la division des données
.test-size-visual {
  margin: var(--space-lg) 0;

  .data-split-visualization {
    display: flex;
    height: 60px;
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);

    .train-portion {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      transition: width var(--transition-base);

      span {
        font-size: var(--font-size-xs);
        opacity: 0.9;
      }

      strong {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-bold);
      }
    }

    .test-portion {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      transition: width var(--transition-base);

      span {
        font-size: var(--font-size-xs);
        opacity: 0.9;
      }

      strong {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-bold);
      }
    }
  }
}

// Options d'encodage
.encoding-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
  margin-top: var(--space-md);

  // Responsive : empiler sur très petits écrans
  @media (max-width: 500px) {
    grid-template-columns: 1fr;
  }

  .encoding-option {
    display: block;
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    cursor: pointer;
    transition: all var(--transition-base);

    input[type="radio"] {
      display: none;
    }

    &:hover {
      border-color: var(--color-primary);
      transform: translateY(-1px);
    }

    &.selected {
      border-color: var(--color-primary);
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
    }

    .option-content {
      h5 {
        margin: 0 0 var(--space-xs) 0;
        font-size: var(--font-size-md);
        font-weight: var(--font-weight-semibold);
        color: var(--text-primary);
      }

      p {
        margin: 0;
        font-size: var(--font-size-sm);
        color: var(--text-secondary);
      }
    }
  }
}

// Guide des algorithmes
.algorithm-guide {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);

  .guide-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);

    mat-icon {
      font-size: 24px;
      color: var(--color-primary);
      flex-shrink: 0;
    }

    div {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.5;

      strong {
        color: var(--text-primary);
      }
    }
  }
}

// Section recommandée
.recommended-section {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%);
  border: 1px solid rgba(16, 185, 129, 0.3);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  margin-bottom: var(--space-xl);

  h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-size-lg);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-success);
    }
  }

  .recommended-algorithm {
    .algo-recommendation {
      display: flex;
      align-items: center;
      gap: var(--space-md);

      mat-icon {
        font-size: 32px;
        color: var(--color-success);
      }

      p {
        margin: 0;
        font-size: var(--font-size-md);
        color: var(--text-secondary);

        strong {
          color: var(--text-primary);
        }
      }
    }
  }
}

// Carte d'algorithme améliorée
.algorithm-card.enhanced {
  &.recommended {
    .algorithm-content {
      border-color: rgba(16, 185, 129, 0.5);
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.02) 100%);
    }
  }

  .algorithm-header {
    position: relative;

    .recommended-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      display: flex;
      align-items: center;
      gap: 4px;
      background: var(--color-success);
      color: white;
      padding: 4px 12px;
      border-radius: var(--radius-full);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      text-transform: uppercase;
      letter-spacing: 0.5px;

      mat-icon {
        font-size: 14px;
        width: 14px;
        height: 14px;
      }
    }
  }

  .algorithm-details {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);

    .detail-row {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);

              mat-icon {
          font-size: 16px !important;
          width: 16px !important;
          height: 16px !important;
          line-height: 16px !important;
          color: var(--color-primary);
          opacity: 0.7;
          display: inline-flex !important;
          align-items: center !important;
          justify-content: center !important;
        }
    }
  }

  .use-cases {
    margin-top: var(--space-lg);

    h5 {
      margin: 0 0 var(--space-sm) 0;
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
    }

    ul {
      margin: 0;
      padding-left: var(--space-lg);

      li {
        font-size: var(--font-size-xs);
        color: var(--text-secondary);
        line-height: 1.6;
      }
    }
  }
}

// Tableau de comparaison
.algorithm-comparison {
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  margin-top: var(--space-2xl);

  h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-xl) 0;
    font-size: var(--font-size-xl);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-primary);
    }
  }

  .comparison-table {
    overflow-x: auto;

    table {
      width: 100%;
      border-collapse: collapse;

      thead {
        tr {
          th {
            text-align: left;
            padding: var(--space-md);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
          }
        }
      }

      tbody {
        tr {
          &:hover {
            background: var(--bg-primary);
          }

          td {
            padding: var(--space-md);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color-light);

            &:first-child {
              font-weight: var(--font-weight-medium);
              color: var(--text-primary);
            }

            .rating {
              display: flex;
              gap: 2px;

              mat-icon {
                font-size: 16px;
                width: 16px;
                height: 16px;
                color: var(--color-accent);
              }
            }
          }
        }
      }
    }
  }
}

// Info card pour algorithme
.algorithm-info-card {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.02) 100%);
  border: 1px solid rgba(99, 102, 241, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  margin-bottom: var(--space-xl);

  .algo-header {
    display: flex;
    align-items: center;
    gap: var(--space-lg);

    .algorithm-icon {
      width: 56px;
      height: 56px;
      background: var(--gradient-primary);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;

      mat-icon {
        font-size: 28px;
        color: white;
      }
    }

    h3 {
      margin: 0 0 var(--space-xs) 0;
      font-size: var(--font-size-xl);
      color: var(--text-primary);
    }

    p {
      margin: 0;
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }
  }
}

// Presets de configuration
.presets-section {
  margin-bottom: var(--space-2xl);

  h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-size-lg);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-primary);
    }
  }

  .presets-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-lg);

    .preset-card {
      background: var(--bg-primary);
      border: 2px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      text-align: center;
      cursor: pointer;
      transition: all var(--transition-base);

      &:hover {
        border-color: var(--color-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      mat-icon {
        font-size: 40px;
        color: var(--color-primary);
        margin-bottom: var(--space-md);
      }

      h4 {
        margin: 0 0 var(--space-sm) 0;
        font-size: var(--font-size-md);
        font-weight: var(--font-weight-semibold);
        color: var(--text-primary);
      }

      p {
        margin: 0;
        font-size: var(--font-size-sm);
        color: var(--text-secondary);
      }
    }
  }
}

// Sections de paramètres
.parameters-sections {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);

  .parameter-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    padding: var(--space-2xl);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;

    // Animation d'apparition
    animation: slideInFromBottom 0.6s ease-out;
    animation-fill-mode: both;

    // Délai d'animation pour l'effet de cascade
    &:nth-child(1) { animation-delay: 0.1s; }
    &:nth-child(2) { animation-delay: 0.2s; }
    &:nth-child(3) { animation-delay: 0.3s; }
    &:nth-child(4) { animation-delay: 0.4s; }

    // Effet de bordure animée
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
      opacity: 0;
      transition: opacity var(--transition-base);
      border-radius: inherit;
      pointer-events: none;
    }

    &:hover {
      box-shadow: var(--shadow-lg);
      border-color: rgba(99, 102, 241, 0.4);
      transform: translateY(-2px);

      &::before {
        opacity: 1;
      }
    }

    .parameter-content {
      .parameter-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--space-lg);

        .form-label {
          font-size: var(--font-size-lg);
          font-weight: var(--font-weight-semibold);
          color: var(--text-primary);
          margin: 0;
        }

        .help-icon {
          font-size: 20px;
          color: var(--color-primary);
          cursor: help;
          opacity: 0.7;
          transition: opacity var(--transition-base);

          &:hover {
            opacity: 1;
          }
        }
      }

      .form-description {
        font-size: var(--font-size-sm);
        color: var(--text-secondary);
        margin: 0 0 var(--space-lg) 0;
        line-height: 1.5;
      }

      .parameter-control {
        margin-top: var(--space-lg);

        // Input number moderne
        .form-input[type="number"] {
          width: 100%;
          padding: var(--space-lg);
          border: 2px solid var(--border-color);
          border-radius: var(--radius-lg);
          font-size: var(--font-size-md);
          font-weight: var(--font-weight-medium);
          background: var(--bg-primary);
          color: var(--text-primary);
          transition: all var(--transition-base);
          position: relative;

          // Animation d'apparition
          animation: fadeInScale 0.4s ease-out;

          &:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1), 0 4px 12px rgba(99, 102, 241, 0.15);
            background: white;
            transform: translateY(-1px);
          }

          &:hover:not(:focus) {
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }

          // État invalide
          &.ng-invalid.ng-touched:not(:focus) {
            border-color: var(--color-danger);
            background: rgba(239, 68, 68, 0.02);

            &:hover {
              border-color: var(--color-danger);
              box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
            }
          }

          // État valide
          &.ng-valid.ng-dirty:not(:focus) {
            border-color: var(--color-success);
            background: rgba(16, 185, 129, 0.02);

            &::after {
              content: '✓';
              position: absolute;
              right: 12px;
              top: 50%;
              transform: translateY(-50%);
              color: var(--color-success);
              font-weight: bold;
            }
          }
        }

        // Select moderne
        .form-select {
          width: 100%;
          padding: var(--space-lg);
          border: 2px solid var(--border-color);
          border-radius: var(--radius-lg);
          font-size: var(--font-size-md);
          font-weight: var(--font-weight-medium);
          background: var(--bg-primary);
          color: var(--text-primary);
          cursor: pointer;
          transition: all var(--transition-base);
          appearance: none;
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 12px center;
          background-repeat: no-repeat;
          background-size: 16px;
          padding-right: 48px;

          // Animation d'apparition
          animation: fadeInScale 0.4s ease-out;
          animation-delay: 0.1s;
          animation-fill-mode: both;

          &:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1), 0 4px 12px rgba(99, 102, 241, 0.15);
            background-color: white;
            transform: translateY(-1px);

            // Animation de l'icône de dropdown au focus
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236366f1' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
          }

          &:hover:not(:focus) {
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }

          // État valide
          &.ng-valid.ng-dirty:not(:focus) {
            border-color: var(--color-success);
            background-color: rgba(16, 185, 129, 0.02);
          }

          option {
            padding: var(--space-md);
            font-weight: var(--font-weight-medium);
            background: white;
            color: var(--text-primary);

            &:hover {
              background: rgba(99, 102, 241, 0.1);
            }

            &:checked {
              background: var(--color-primary);
              color: white;
            }
          }
        }

        // Checkbox moderne
        .modern-checkbox {
          display: flex;
          align-items: center;
          gap: var(--space-md);
          padding: var(--space-lg);
          border: 2px solid var(--border-color);
          border-radius: var(--radius-lg);
          background: var(--bg-primary);
          cursor: pointer;
          transition: all var(--transition-base);

          &:hover {
            border-color: rgba(99, 102, 241, 0.5);
            background: rgba(99, 102, 241, 0.02);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }

          &.checked {
            border-color: var(--color-primary);
            background: rgba(99, 102, 241, 0.05);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
          }

          input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin: 0;
            cursor: pointer;
            accent-color: var(--color-primary);
            border-radius: 4px;
          }

          .checkbox-label {
            font-size: var(--font-size-md);
            font-weight: var(--font-weight-medium);
            color: var(--text-primary);
            cursor: pointer;
            margin: 0;
          }
        }

        // Slider/Range moderne
        .form-input[type="range"] {
          width: 100%;
          height: 6px;
          margin: var(--space-lg) 0;
          -webkit-appearance: none;
          appearance: none;
          background: transparent;
          cursor: pointer;

          &::-webkit-slider-track {
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--border-color) 0%, var(--border-color-dark) 100%);
            border-radius: var(--radius-full);
            border: none;
          }

          &::-moz-range-track {
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--border-color) 0%, var(--border-color-dark) 100%);
            border-radius: var(--radius-full);
            border: none;
          }

          &::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--color-primary);
            border-radius: var(--radius-full);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(99, 102, 241, 0.4);
            transition: all var(--transition-base);

            &:hover {
              transform: scale(1.1);
              box-shadow: 0 4px 12px rgba(99, 102, 241, 0.6);
            }
          }

          &::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--color-primary);
            border-radius: var(--radius-full);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(99, 102, 241, 0.4);
            transition: all var(--transition-base);

            &:hover {
              transform: scale(1.1);
              box-shadow: 0 4px 12px rgba(99, 102, 241, 0.6);
            }
          }

          &:focus {
            outline: none;

            &::-webkit-slider-thumb {
              box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            }

            &::-moz-range-thumb {
              box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            }
          }
        }

        .value-indicator {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-top: var(--space-lg);
          padding: var(--space-md) var(--space-lg);
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.02) 100%);
          border-radius: var(--radius-md);
          border: 1px solid rgba(99, 102, 241, 0.1);

          .current-value {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: var(--space-sm);

            &::before {
              content: "→";
              font-size: var(--font-size-sm);
              opacity: 0.6;
            }
          }

          .value-range {
            font-size: var(--font-size-xs);
            color: var(--text-tertiary);
            background: rgba(255, 255, 255, 0.8);
            padding: 4px 8px;
            border-radius: var(--radius-sm);
          }
        }
      }

      .parameter-impact,
      .option-explanation {
        display: flex;
        align-items: flex-start;
        gap: var(--space-md);
        margin-top: var(--space-lg);
        padding: var(--space-lg);
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(139, 92, 246, 0.03) 100%);
        border-radius: var(--radius-lg);
        border-left: 4px solid var(--color-primary);

        mat-icon {
          font-size: 20px;
          color: var(--color-primary);
          margin-top: 2px;
        }

        span {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);
          line-height: 1.6;
          font-weight: var(--font-weight-medium);
        }
      }

      .boolean-impact {
        display: flex;
        align-items: center;
        gap: var(--space-md);
        margin-top: var(--space-lg);
        padding: var(--space-lg);
        border-radius: var(--radius-lg);
        border-left: 4px solid var(--color-danger);
        background: linear-gradient(135deg, rgba(239, 68, 68, 0.08) 0%, rgba(220, 38, 38, 0.03) 100%);
        transition: all var(--transition-base);

        &.active {
          background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(5, 150, 105, 0.03) 100%);
          border-left-color: var(--color-success);

          mat-icon {
            color: var(--color-success);
          }
        }

        mat-icon {
          font-size: 20px;
          color: var(--color-danger);
        }

        span {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);
          font-weight: var(--font-weight-medium);
          line-height: 1.5;
        }
      }
    }
  }
}

// Résumé de l'impact
.impact-summary {
  background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-primary) 100%);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  margin-top: var(--space-2xl);

  h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-xl) 0;
    font-size: var(--font-size-lg);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-primary);
    }
  }

  .impact-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-xl);

    .impact-metric {
      .metric-label {
        font-size: var(--font-size-sm);
        color: var(--text-tertiary);
        margin-bottom: var(--space-sm);
      }

      .metric-value {
        display: flex;
        align-items: center;
        gap: var(--space-sm);

        mat-icon {
          font-size: 24px;
          color: var(--color-primary);
        }

        span {
          font-size: var(--font-size-lg);
          font-weight: var(--font-weight-semibold);
          color: var(--text-primary);
        }

        .complexity-bar {
          flex: 1;
          height: 8px;
          background: var(--bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;

          .complexity-fill {
            height: 100%;
            background: var(--gradient-primary);
            transition: width var(--transition-base);
          }
        }
      }
    }
  }
}

// Section de résumé de configuration
.configuration-summary {
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  margin-bottom: var(--space-xl);

  h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-xl) 0;
    font-size: var(--font-size-xl);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-primary);
    }
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);

    .summary-item {
      display: flex;
      gap: var(--space-md);
      padding: var(--space-lg);
      background: var(--bg-primary);
      border-radius: var(--radius-md);
      border: 1px solid var(--border-color);

      .item-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;

        mat-icon {
          font-size: 24px;
          color: var(--color-primary);
        }
      }

      .item-content {
        flex: 1;

        h4 {
          margin: 0 0 var(--space-xs) 0;
          font-size: var(--font-size-sm);
          font-weight: var(--font-weight-medium);
          color: var(--text-tertiary);
        }

        p {
          margin: 0 0 var(--space-xs) 0;
          font-size: var(--font-size-md);
          font-weight: var(--font-weight-semibold);
          color: var(--text-primary);
        }

        .item-detail {
          font-size: var(--font-size-xs);
          color: var(--text-secondary);
        }
      }
    }
  }
}

// Checklist de vérification
.pre-launch-checklist {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.02) 100%);
  border: 1px solid rgba(16, 185, 129, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  margin-top: var(--space-xl);

  h4 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-lg) 0;
    font-size: var(--font-size-lg);
    color: var(--text-primary);

    mat-icon {
      color: var(--color-success);
    }
  }

  .checklist-items {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);

    .checklist-item {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);

      &.checked {
        color: var(--text-primary);

        mat-icon {
          color: var(--color-success);
        }
      }

      mat-icon {
        font-size: 20px;
        color: var(--text-tertiary);
      }
    }
  }
}

// Confirmation de lancement
.launch-confirmation {
  margin-top: var(--space-2xl);
  padding: var(--space-xl);
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, rgba(217, 119, 6, 0.02) 100%);
  border: 1px solid rgba(245, 158, 11, 0.3);
  border-radius: var(--radius-lg);

  .checkbox-label {
    font-size: var(--font-size-md);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
  }
}

// Amélioration des labels checkbox
.checkbox-label {
  display: flex;
  align-items: center;
  cursor: pointer;

  input[type="checkbox"] {
    margin-right: var(--space-sm);
    width: 18px;
    height: 18px;
    cursor: pointer;
  }
}

// Texte d'aide
.help-text {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-sm);
  padding: var(--space-sm);
  background: rgba(99, 102, 241, 0.05);
  border-radius: var(--radius-sm);

          mat-icon {
          font-size: 16px !important;
          width: 16px !important;
          height: 16px !important;
          line-height: 16px !important;
          color: var(--color-primary);
          opacity: 0.7;
          display: inline-flex !important;
          align-items: center !important;
          justify-content: center !important;
        }

  span {
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    line-height: 1.4;
  }
}

// Icon container states
.icon-container {
  &.success {
    background: var(--gradient-secondary) !important;

    .step-icon-modern {
      animation: bounceIn 0.6s ease-out;
    }
  }

  &.loading {
    .step-icon-modern {
      animation: spin 2s linear infinite;
    }
  }
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes slideInFromBottom {
  0% {
    transform: translateY(30px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fadeInScale {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(99, 102, 241, 0.1);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);
  }
}

// ================================
// NOUVEAU SYSTÈME DE NETTOYAGE AVANCÉ DES DONNÉES
// ================================

// Section de nettoyage des données
.data-cleaning-section {
  .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;

    .help-button {
      background: none;
      border: none;
      padding: 8px;
      border-radius: 50%;
      cursor: pointer;
      color: #6c757d;
      transition: all 0.2s ease;

      &:hover {
        background-color: #e9ecef;
        color: #0d6efd;
      }
    }
  }
}

// Box d'aide avancée
.data-cleaning-help-box {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 16px;
  padding: 24px;
  margin: 16px 0;
  color: white;
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);

  .help-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;

    h4 {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 600;
    }

    .close-help {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      cursor: pointer;
      transition: background 0.2s ease;

      &:hover {
        background: rgba(255, 255, 255, 0.3);
      }
    }
  }

  .help-content {
    .help-strategies {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 20px;

      .strategy-card {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 16px;
        text-align: center;
        backdrop-filter: blur(10px);

        .strategy-icon {
          font-size: 2rem;
          margin-bottom: 8px;
        }

        h5 {
          margin: 8px 0;
          font-weight: 600;
          font-size: 0.9rem;
        }

        p {
          margin: 4px 0;
          font-size: 0.8rem;
          opacity: 0.9;
        }
      }
    }

    .help-decision-tree {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 16px;
      backdrop-filter: blur(10px);

      h6 {
        margin: 0 0 12px 0;
        font-weight: 600;
      }

      ul {
        margin: 0;
        padding-left: 20px;

        li {
          margin: 6px 0;
          font-size: 0.85rem;
          line-height: 1.4;
        }
      }
    }
  }
}

// Analyse de qualité des données
.data-quality-analysis {
  margin: 20px 0;

  .quality-score-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 16px;
    padding: 20px;
    color: white;

    .score-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;

      h4 {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 600;
      }
    }

    .score-display {
      display: flex;
      align-items: center;
      gap: 20px;

      .score-circle {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 3px solid rgba(255, 255, 255, 0.3);

        &.excellent { border-color: #28a745; }
        &.good { border-color: #ffc107; }
        &.warning { border-color: #fd7e14; }
        &.danger { border-color: #dc3545; }

        .score-value {
          font-size: 1.5rem;
          font-weight: bold;
        }

        .score-label {
          font-size: 0.7rem;
          opacity: 0.8;
        }
      }

      .score-details {
        flex: 1;

        .severity-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 500;
          margin-bottom: 8px;

          &.none { background: rgba(40, 167, 69, 0.2); }
          &.low { background: rgba(255, 193, 7, 0.2); }
          &.medium { background: rgba(253, 126, 20, 0.2); }
          &.high { background: rgba(220, 53, 69, 0.2); }
          &.critical { background: rgba(220, 53, 69, 0.4); }
        }

        .score-description {
          margin: 0;
          font-size: 0.85rem;
          opacity: 0.9;
        }
      }
    }
  }
}

// Toggle pour recommandations
.recommendation-toggle {
  .toggle-label {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    margin-bottom: 8px;

    .toggle-slider {
      position: relative;
      width: 50px;
      height: 24px;
      background-color: #ccc;
      border-radius: 24px;
      transition: background-color 0.2s;

      &::before {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: white;
        top: 2px;
        left: 2px;
        transition: transform 0.2s;
      }
    }

    input[type="checkbox"]:checked + .toggle-slider {
      background-color: #0d6efd;

      &::before {
        transform: translateX(26px);
      }
    }

    .toggle-text {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;

      .pro-badge {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.7rem;
        font-weight: bold;
      }
    }
  }
}

// Configuration manuelle
.manual-config {
  margin-top: 16px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 12px;
  border-left: 4px solid #0d6efd;

  .advanced-params {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid #e9ecef;

    .param-group {
      margin-bottom: 16px;

      .param-description {
        margin: 4px 0 0 0;
        font-size: 0.8rem;
        color: #6c757d;
        font-style: italic;
      }
    }
  }
}

// Explications des stratégies
.strategy-explanation {
  margin-top: 16px;

  .explanation-card {
    display: flex;
    gap: 12px;
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 12px;
    border-left: 4px solid;

    &.success {
      background: #d1e7dd;
      border-left-color: #198754;
      color: #0f5132;

      mat-icon { color: #198754; }
    }

    &.warning {
      background: #fff3cd;
      border-left-color: #ffc107;
      color: #664d03;

      mat-icon { color: #ffc107; }
    }

    &.premium {
      background: linear-gradient(135deg, #667eea20, #764ba220);
      border-left-color: #667eea;
      color: #495057;

      mat-icon { color: #667eea; }
    }

    .explanation-content {
      flex: 1;

      h5 {
        margin: 0 0 8px 0;
        font-size: 0.95rem;
        font-weight: 600;
      }

      p {
        margin: 0 0 12px 0;
        font-size: 0.85rem;
        line-height: 1.4;
      }

      .pros-cons {
        display: flex;
        gap: 16px;

        .pros, .cons {
          font-size: 0.8rem;
          padding: 4px 8px;
          border-radius: 6px;

          &.pros {
            background: rgba(25, 135, 84, 0.1);
            color: #0f5132;
          }

          &.cons {
            background: rgba(220, 53, 69, 0.1);
            color: #721c24;
          }
        }
      }
    }
  }
}

// Sections spécialisées
.outlier-section, .scaling-section {
  margin-top: 20px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 12px;

  .outlier-config {
    margin-top: 12px;
    padding: 12px;
    background: white;
    border-radius: 8px;
    border: 1px solid #e9ecef;
  }

  .scaling-explanation {
    margin-top: 8px;

    .scaling-description {
      font-size: 0.85rem;
      color: #495057;
      font-style: italic;
      margin: 0;
    }
  }
}

// Labels avec tooltips
.form-label-with-tooltip {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;

  .tooltip-trigger {
    color: #6c757d;
    cursor: help;
    transition: color 0.2s ease;

    &:hover {
      color: #0d6efd;
    }

    mat-icon {
      font-size: 1rem;
      width: 1rem;
      height: 1rem;
    }
  }
}

// ================================
// NOUVELLE ÉTAPE DÉDIÉE AU NETTOYAGE DES DONNÉES
// ================================

// Header spécial pour l'étape de nettoyage
.data-cleaning-header {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  margin-bottom: 30px;

  .step-icon {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    padding: 16px;
    color: white;

    mat-icon {
      font-size: 2rem;
      width: 2rem;
      height: 2rem;
    }
  }

  .header-content {
    flex: 1;

    .step-title {
      margin: 0 0 8px 0;
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .step-description {
      margin: 0;
      font-size: 1.1rem;
      color: #6c757d;
      font-weight: 400;
    }
  }

  .auto-fix-container {
    .btn-auto-fix {
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);

      &:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
      }

      &:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }

      &.loading {
        background: linear-gradient(135deg, #6c757d 0%, #495057 100%);

        .spinner {
          animation: spin 1s linear infinite;
        }
      }

      mat-icon {
        font-size: 1.4rem;
        width: 1.4rem;
        height: 1.4rem;
      }
    }
  }
}

// État d'analyse
.analysis-status {
  margin: 20px 0;

  .status-card {
    background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
    border: 2px solid #e1bee7;
    border-radius: 20px;
    padding: 30px;
    text-align: center;

    &.analyzing {
      background: linear-gradient(135deg, #fff3e0 0%, #fce4ec 100%);
      border-color: #f8bbd9;
    }

    .status-icon {
      font-size: 3rem;
      color: #673ab7;
      margin-bottom: 16px;

      &.animate-spin {
        animation: spin 2s linear infinite;
      }
    }

    .status-content {
      h4 {
        margin: 0 0 12px 0;
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
      }

      p {
        margin: 0 0 20px 0;
        color: #666;
        font-size: 1rem;
      }

      .progress-steps {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;

        .step {
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 0.9rem;
          background: rgba(255, 255, 255, 0.7);
          color: #666;
          transition: all 0.3s ease;

          &.active {
            background: #673ab7;
            color: white;
            transform: scale(1.05);
          }
        }
      }
    }
  }
}

// Aperçu de la qualité
.quality-overview-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 20px;
  padding: 30px;
  color: white;
  margin-bottom: 30px;

  .quality-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 24px;

    mat-icon {
      font-size: 1.8rem;
    }

    h3 {
      margin: 0;
      font-size: 1.4rem;
      font-weight: 600;
    }
  }

  .quality-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 20px;

    .metric-card {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      backdrop-filter: blur(10px);

      &.score-card {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .metric-value {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 8px;

        &.excellent { color: #4caf50; }
        &.good { color: #ff9800; }
        &.warning { color: #ff5722; }
        &.danger { color: #f44336; }

        &.severity-badge {
          font-size: 1.2rem;
          padding: 4px 12px;
          border-radius: 20px;
          background: rgba(255, 255, 255, 0.2);

          &.none { background: rgba(76, 175, 80, 0.3); }
          &.low { background: rgba(255, 152, 0, 0.3); }
          &.medium { background: rgba(255, 87, 34, 0.3); }
          &.high { background: rgba(244, 67, 54, 0.3); }
          &.critical {
            background: rgba(244, 67, 54, 0.5);
            animation: pulse 2s infinite;
          }
        }
      }

      .metric-label {
        font-size: 0.9rem;
        opacity: 0.9;
        font-weight: 500;
      }
    }
  }
}

// Analyse par colonne
.columns-analysis {
  margin: 30px 0;

  .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;

    mat-icon {
      color: #667eea;
      margin-right: 8px;
    }

    h3 {
      margin: 0;
      font-size: 1.3rem;
      font-weight: 600;
      color: #333;
      display: flex;
      align-items: center;
    }

    .analysis-summary {
      background: #f8f9fa;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      color: #495057;
      font-weight: 500;
    }
  }

  .columns-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 20px;

    .column-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      border: 2px solid #e9ecef;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      &.perfect {
        border-color: #28a745;
        background: linear-gradient(135deg, #d4edda 0%, #d1e7dd 100%);
      }

      &.low-severity {
        border-color: #ffc107;
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
      }

      &.medium-severity {
        border-color: #fd7e14;
        background: linear-gradient(135deg, #ffe8d6 0%, #fdcb6e 100%);
      }

      &.high-severity {
        border-color: #dc3545;
        background: linear-gradient(135deg, #f8d7da 0%, #fab1a0 100%);

        &::before {
          content: '🚨';
          position: absolute;
          top: 10px;
          right: 10px;
          font-size: 1.2rem;
        }
      }

      .column-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;

        .column-info {
          .column-name {
            margin: 0 0 8px 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
          }

          .column-type {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #6c757d;
            font-size: 0.9rem;

            mat-icon {
              font-size: 1rem;
              width: 1rem;
              height: 1rem;
            }
          }
        }

        .column-status {
          .status-icon {
            font-size: 1.5rem;

            &.perfect { color: #28a745; }
            &.info { color: #17a2b8; }
            &.warning { color: #ffc107; }
            &.error { color: #dc3545; }
          }
        }
      }

      .column-issues {
        margin-bottom: 16px;

        h5 {
          margin: 0 0 12px 0;
          font-size: 0.95rem;
          font-weight: 600;
          color: #333;
        }

        .issue-item {
          display: flex;
          gap: 10px;
          margin-bottom: 10px;
          padding: 10px;
          background: rgba(255, 255, 255, 0.7);
          border-radius: 8px;

          .issue-icon {
            font-size: 1.2rem;
            margin-top: 2px;

            &.low { color: #ffc107; }
            &.medium { color: #fd7e14; }
            &.high { color: #dc3545; }
          }

          .issue-content {
            flex: 1;

            .issue-title {
              font-weight: 600;
              color: #333;
              margin-bottom: 4px;
            }

            .issue-description {
              font-size: 0.85rem;
              color: #666;
              margin-bottom: 6px;
            }

            .issue-stats {
              display: flex;
              gap: 8px;
              flex-wrap: wrap;

              .stat {
                background: rgba(102, 126, 234, 0.1);
                color: #667eea;
                padding: 2px 8px;
                border-radius: 12px;
                font-size: 0.75rem;
                font-weight: 500;
              }
            }
          }
        }
      }

      .column-perfect {
        text-align: center;
        padding: 20px;

        .perfect-icon {
          font-size: 3rem;
          color: #28a745;
          margin-bottom: 12px;
        }

        .perfect-message {
          strong {
            color: #28a745;
            font-size: 1.1rem;
          }

          p {
            margin: 8px 0 0 0;
            color: #666;
            font-size: 0.9rem;
          }
        }
      }

      .column-solution {
        margin-bottom: 16px;

        h5 {
          margin: 0 0 10px 0;
          font-size: 0.95rem;
          font-weight: 600;
          color: #333;
        }

        .solution-card {
          background: rgba(255, 255, 255, 0.9);
          border-radius: 12px;
          padding: 16px;
          border-left: 4px solid;

          &.suppression {
            border-left-color: #dc3545;
            background: rgba(220, 53, 69, 0.05);
          }

          &.imputation-simple {
            border-left-color: #28a745;
            background: rgba(40, 167, 69, 0.05);
          }

          &.imputation-advanced {
            border-left-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
          }

          &.interpolation {
            border-left-color: #fd7e14;
            background: rgba(253, 126, 20, 0.05);
          }

          display: flex;
          gap: 12px;

          .solution-icon {
            font-size: 1.3rem;
            margin-top: 2px;
            color: inherit;
          }

          .solution-content {
            flex: 1;

            .solution-title {
              font-weight: 600;
              color: #333;
              margin-bottom: 6px;
            }

            .solution-description {
              font-size: 0.85rem;
              color: #666;
              margin-bottom: 10px;
              line-height: 1.4;
            }

            .solution-confidence {
              .confidence-bar {
                width: 100%;
                height: 6px;
                background: rgba(0, 0, 0, 0.1);
                border-radius: 3px;
                overflow: hidden;
                margin-bottom: 4px;

                .confidence-fill {
                  height: 100%;
                  background: linear-gradient(90deg, #28a745, #20c997);
                  border-radius: 3px;
                  transition: width 0.3s ease;
                }
              }

              .confidence-text {
                font-size: 0.75rem;
                color: #666;
                font-weight: 500;
              }
            }
          }
        }
      }

      .alternative-actions {
        .alternatives-collapsible {
          border: 1px solid #e9ecef;
          border-radius: 8px;
          overflow: hidden;

          summary {
            padding: 10px 12px;
            background: #f8f9fa;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            color: #495057;

            &:hover {
              background: #e9ecef;
            }
          }

          .alternative-item {
            display: flex;
            gap: 8px;
            padding: 8px 12px;
            border-top: 1px solid #f1f3f4;

            .alt-icon {
              font-size: 1rem;
              color: #6c757d;
              margin-top: 1px;
            }

            .alt-content {
              flex: 1;

              .alt-title {
                font-weight: 500;
                color: #333;
                display: block;
                margin-bottom: 2px;
              }

              .alt-description {
                font-size: 0.8rem;
                color: #666;
              }
            }
          }
        }
      }
    }
  }
}

// Résumé des actions automatiques
.auto-actions-summary {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 16px;
  padding: 24px;
  margin: 30px 0;

  .summary-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;

    mat-icon {
      color: #667eea;
      font-size: 1.6rem;
    }

    h3 {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 600;
      color: #333;
    }
  }

  .actions-preview {
    display: grid;
    gap: 16px;

    .action-category {
      background: white;
      border-radius: 12px;
      padding: 16px;
      border-left: 4px solid #667eea;

      .category-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;

        mat-icon {
          color: #667eea;
        }

        h4 {
          margin: 0;
          font-size: 1rem;
          font-weight: 600;
          color: #333;
          flex: 1;
        }

        .category-count {
          background: #667eea;
          color: white;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 0.75rem;
          font-weight: 500;
        }
      }

      .category-columns {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        margin-bottom: 8px;

        .column-tag {
          background: rgba(102, 126, 234, 0.1);
          color: #667eea;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 0.8rem;
          font-weight: 500;
        }
      }

      .category-description {
        font-size: 0.85rem;
        color: #666;
        font-style: italic;
      }
    }
  }
}

// Contrôles manuels
.manual-controls {
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
  margin: 20px 0;
  border: 1px solid #e9ecef;

  .manual-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 16px;

    mat-icon {
      color: #6c757d;
      margin-right: 8px;
    }

    h3 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 600;
      color: #333;
      display: flex;
      align-items: center;
    }

    .btn-hide-manual {
      background: none;
      border: none;
      color: #6c757d;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 6px;

      &:hover {
        background: #e9ecef;
        color: #495057;
      }
    }
  }
}

.show-manual-controls {
  text-align: center;
  margin: 20px 0;

  .btn-show-manual {
    background: none;
    border: 1px solid #dee2e6;
    color: #6c757d;
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease;

    &:hover {
      border-color: #667eea;
      color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }
  }
}

// État initial
.no-analysis {
  text-align: center;
  padding: 40px 20px;

  .welcome-card {
    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    border-radius: 20px;
    padding: 40px;
    border: 2px dashed #dee2e6;

    .welcome-icon {
      mat-icon {
        font-size: 4rem;
        color: #667eea;
        margin-bottom: 20px;
      }
    }

    h3 {
      margin: 0 0 16px 0;
      font-size: 1.5rem;
      font-weight: 600;
      color: #333;
    }

    p {
      color: #666;
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .detection-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 12px;
      margin: 20px 0;

      .detection-item {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px;
        background: white;
        border-radius: 10px;
        border: 1px solid #e9ecef;
        text-align: left;

        mat-icon {
          color: #667eea;
          font-size: 1.2rem;
        }

        span {
          font-size: 0.9rem;
          color: #333;
        }
      }
    }

    .cta-text {
      font-size: 1.1rem;
      font-weight: 500;
      color: #333;
      margin-top: 20px;

      strong {
        color: #28a745;
      }
    }
  }
}

// Options de tâche améliorées
.task-type-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-top: 12px;

  .task-option {
    border: 2px solid #e9ecef;
    border-radius: 12px;
    padding: 0;
    cursor: pointer;
    transition: all 0.2s ease;
    background: white;

    &:hover {
      border-color: #667eea;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    }

    &.selected {
      border-color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }

    input[type="radio"] {
      display: none;
    }

    .option-content {
      padding: 20px;
      text-align: center;

      mat-icon {
        font-size: 2rem;
        color: #667eea;
        margin-bottom: 12px;
      }

      h4 {
        margin: 0 0 8px 0;
        font-size: 1.1rem;
        font-weight: 600;
        color: #333;
      }

      p {
        margin: 0;
        font-size: 0.85rem;
        color: #666;
        line-height: 1.4;
      }
    }
  }
}

// ================================
// SECTION D'ÉDUCATION AU NETTOYAGE DES DONNÉES
// ================================

.cleaning-education-section {
  max-width: 100%;
  margin: 0 auto;

  // Hero section avec statistiques
  .education-hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 40px;
    margin-bottom: 40px;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 30px;

    .hero-content {
      flex: 1;
      min-width: 300px;

      h3 {
        margin: 0 0 16px 0;
        font-size: 2rem;
        font-weight: 700;
      }

      .hero-subtitle {
        font-size: 1.2rem;
        margin: 0;
        opacity: 0.9;
        font-weight: 500;
      }
    }

    .hero-stats {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;

      .stat-item {
        text-align: center;
        background: rgba(255, 255, 255, 0.15);
        padding: 20px;
        border-radius: 16px;
        backdrop-filter: blur(10px);

        .stat-number {
          font-size: 2.5rem;
          font-weight: bold;
          margin-bottom: 8px;
          color: #ffd700;
        }

        .stat-label {
          font-size: 0.9rem;
          opacity: 0.9;
          font-weight: 500;
        }
      }
    }

    @media (max-width: 768px) {
      text-align: center;

      .hero-stats {
        justify-content: center;
        width: 100%;
      }
    }
  }

  // Section des problèmes
  .cleaning-problems-section {
    margin-bottom: 50px;

    h3 {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 30px;
      text-align: center;
      color: #333;
    }

    .problems-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 20px;

      .problem-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        border-left: 5px solid;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;

        &:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        &.critical {
          border-left-color: #dc3545;
          background: linear-gradient(135deg, #fff5f5 0%, #ffe6e6 100%);
        }

        &.warning {
          border-left-color: #ff6b35;
          background: linear-gradient(135deg, #fff8f0 0%, #ffedd5 100%);
        }

        &.info {
          border-left-color: #17a2b8;
          background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        &.attention {
          border-left-color: #ffc107;
          background: linear-gradient(135deg, #fffbf0 0%, #fef3c7 100%);
        }

        &.special {
          border-left-color: #6f42c1;
          background: linear-gradient(135deg, #f8f5ff 0%, #ede9fe 100%);
        }

        &.complex {
          border-left-color: #e83e8c;
          background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
        }

        .problem-icon {
          font-size: 2.5rem;
          margin-bottom: 16px;
          text-align: center;
        }

        h4 {
          margin: 0 0 12px 0;
          font-size: 1.3rem;
          font-weight: 600;
          color: #333;
        }

        p {
          margin: 0 0 16px 0;
          color: #666;
          line-height: 1.5;
        }

        .problem-examples {
          margin-bottom: 16px;

          .example {
            background: rgba(0, 0, 0, 0.05);
            padding: 8px 12px;
            border-radius: 8px;
            margin-bottom: 6px;
            font-family: monospace;
            font-size: 0.9rem;
            color: #333;
          }
        }

        .impact {
          font-weight: 600;

          .severe {
            color: #dc3545;
            font-weight: bold;
          }

          .moderate {
            color: #ff6b35;
            font-weight: bold;
          }

          .mild {
            color: #28a745;
            font-weight: bold;
          }
        }
      }
    }
  }

  // Section des stratégies
  .cleaning-strategies-section {
    margin-bottom: 50px;

    h3 {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 30px;
      text-align: center;
      color: #333;
    }

    .strategies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;

      .strategy-card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;

        &:hover {
          transform: translateY(-5px);
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        &.deletion {
          border-top: 5px solid #dc3545;

          .strategy-header .strategy-icon {
            color: #dc3545;
          }
        }

        &.imputation {
          border-top: 5px solid #28a745;

          .strategy-header .strategy-icon {
            color: #28a745;
          }
        }

        &.interpolation {
          border-top: 5px solid #fd7e14;

          .strategy-header .strategy-icon {
            color: #fd7e14;
          }
        }

        .strategy-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 20px;

          .strategy-icon {
            font-size: 2rem;
            margin-right: 12px;
          }

          h4 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 700;
            color: #333;
            flex: 1;
          }

          .strategy-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;

            &.radical {
              background: #dc3545;
            }

            &.smart {
              background: #28a745;
            }

            &.temporal {
              background: #fd7e14;
            }
          }
        }

        .strategy-description {
          margin: 0 0 24px 0;
          color: #666;
          font-size: 1.1rem;
          font-style: italic;
        }

        .strategy-methods {
          margin-bottom: 24px;

          h5 {
            margin: 0 0 16px 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
          }

          .method-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;

            .method-category {
              h6 {
                margin: 0 0 12px 0;
                font-size: 0.9rem;
                font-weight: 600;
                color: #667eea;
                text-align: center;
                padding: 6px 12px;
                border-radius: 12px;

                &.simple {
                  background: rgba(40, 167, 69, 0.1);
                  color: #28a745;
                }

                &.advanced {
                  background: rgba(102, 126, 234, 0.1);
                  color: #667eea;
                }
              }
            }
          }

          .method-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 10px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;

            mat-icon {
              font-size: 1.2rem;
              color: #667eea;
              margin-top: 1px;
            }

            span {
              font-size: 0.9rem;
              color: #333;
              line-height: 1.4;
            }
          }
        }

        .strategy-when {
          margin-bottom: 24px;

          h5 {
            margin: 0 0 12px 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
          }

          ul {
            margin: 0;
            padding-left: 20px;

            li {
              margin-bottom: 6px;
              color: #666;
              line-height: 1.4;
            }
          }
        }

        .strategy-pros-cons {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;

          .pros, .cons {
            h6 {
              margin: 0 0 10px 0;
              font-size: 1rem;
              font-weight: 600;
            }

            ul {
              margin: 0;
              padding-left: 16px;

              li {
                margin-bottom: 4px;
                font-size: 0.9rem;
                line-height: 1.3;
              }
            }
          }

          .pros {
            h6 {
              color: #28a745;
            }

            li {
              color: #155724;
            }
          }

          .cons {
            h6 {
              color: #dc3545;
            }

            li {
              color: #721c24;
            }
          }
        }
      }
    }
  }

  // Section de décision IA
  .ai-decision-section {
    margin-bottom: 50px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 20px;
    padding: 40px;

    .decision-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 30px;

      mat-icon {
        font-size: 2rem;
        color: #667eea;
      }

      h3 {
        margin: 0;
        font-size: 1.6rem;
        font-weight: 600;
        color: #333;
      }
    }

    .decision-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 40px;
      flex-wrap: wrap;
      gap: 20px;

      .decision-step {
        background: white;
        border-radius: 16px;
        padding: 20px;
        text-align: center;
        min-width: 180px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);

        .step-number {
          width: 40px;
          height: 40px;
          background: #667eea;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 12px auto;
          font-weight: bold;
          font-size: 1.2rem;
        }

        .step-content {
          h4 {
            margin: 0 0 8px 0;
            font-size: 1rem;
            font-weight: 600;
            color: #333;
          }

          p {
            margin: 0;
            font-size: 0.9rem;
            color: #666;
            line-height: 1.3;
          }
        }
      }

      .decision-arrow {
        font-size: 1.5rem;
        color: #667eea;
        font-weight: bold;

        @media (max-width: 768px) {
          display: none;
        }
      }
    }

    .decision-rules {
      h4 {
        margin: 0 0 20px 0;
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
        text-align: center;
      }

      .rules-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 16px;

        .rule-card {
          background: white;
          border-radius: 12px;
          padding: 16px;
          display: flex;
          align-items: center;
          gap: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

          .rule-condition {
            background: #e3f2fd;
            color: #1976d2;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            flex: 1;
          }

          .rule-arrow {
            color: #667eea;
            font-weight: bold;
            font-size: 1.2rem;
          }

          .rule-action {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            flex: 1;
          }
        }
      }
    }
  }

  // Section finale "prêt à analyser"
  .ready-to-analyze {
    .ready-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      color: white;

      .ready-icon {
        mat-icon {
          font-size: 4rem;
          margin-bottom: 20px;
          color: #ffd700;
        }
      }

      h3 {
        margin: 0 0 16px 0;
        font-size: 1.8rem;
        font-weight: 600;
      }

      p {
        margin: 0 0 30px 0;
        font-size: 1.1rem;
        opacity: 0.9;
        line-height: 1.6;
      }

      .ready-benefits {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;

        .benefit {
          background: rgba(255, 255, 255, 0.15);
          padding: 12px 16px;
          border-radius: 12px;
          font-size: 0.95rem;
          font-weight: 500;
          backdrop-filter: blur(10px);
        }
      }
    }
  }

  @media (max-width: 768px) {
    .strategies-grid {
      grid-template-columns: 1fr;
    }

    .problems-grid {
      grid-template-columns: 1fr;
    }

    .education-hero {
      flex-direction: column;
      text-align: center;

      .hero-stats {
        justify-content: center;
      }
    }
  }
}

// Styles pour les exemples d'encodage
.encoding-example {
  font-size: 0.8rem !important;
  opacity: 0.8;
  font-style: italic;
  color: #666;
  margin-top: 0.5rem;

  span {
    font-size: 0.8rem !important;
    line-height: 1.3;
  }
}

// ===== STYLES POUR PRÉPARATION FINALE (ÉTAPE 5) =====

// Introduction moderne
.modern-intro-card {
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 32px;
  border: 1px solid #e2e8f0;

  .intro-content {
    display: flex;
    align-items: center;
    gap: 20px;

    .intro-icon {
      background: linear-gradient(135deg, #1a2040 0%, #7c3aed 100%);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;

      mat-icon {
        font-size: 28px;
        width: 28px;
        height: 28px;
      }
    }

    .intro-text {
      h3 {
        margin: 0 0 8px 0;
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e293b;
      }

      p {
        margin: 0;
        color: #64748b;
        font-size: 1rem;
        line-height: 1.6;
      }
    }
  }
}

// Sections de fonctionnalités
.feature-section {
  background: white;
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  margin-bottom: 24px;
  overflow: hidden;
  transition: all 0.3s ease;

  &:hover {
    border-color: #c7d2fe;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.1);
  }

  .feature-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 24px;
    background: linear-gradient(135deg, #fafbff 0%, #f1f5ff 100%);
    border-bottom: 1px solid #e2e8f0;

    .feature-icon {
      background: linear-gradient(135deg, #1a2040 0%, #7c3aed 100%);
      color: white;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;

      mat-icon {
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
    }

    .feature-title {
      flex: 1;

      h3 {
        margin: 0 0 4px 0;
        font-size: 1.25rem;
        font-weight: 700;
        color: #1e293b;
      }

      p {
        margin: 0;
        color: #64748b;
        font-size: 0.9rem;
      }
    }

    .feature-toggle {
      ::ng-deep .mat-slide-toggle {
        .mat-slide-toggle-bar {
          height: 20px;
          width: 40px;
        }

        .mat-slide-toggle-thumb {
          height: 16px;
          width: 16px;
        }
      }
    }
  }
}

// Explication contextuelle
.feature-explanation {
  padding: 20px 24px;

  .explanation-card {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: 12px;
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;

    mat-icon {
      color: #d97706;
      font-size: 20px;
      width: 20px;
      height: 20px;
    }

    p {
      margin: 0;
      color: #92400e;
      font-size: 0.9rem;
      line-height: 1.5;
    }
  }
}

// Options de normalisation
.normalization-options {
  padding: 0 24px 24px;

  .options-title {
    margin: 0 0 20px 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: #374151;
  }
}

// Grille des cards de scaling
.scaling-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 16px;
}

.scaling-card {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;

  &:hover {
    border-color: #c7d2fe;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(79, 70, 229, 0.15);
  }

  &.selected {
    border-color: #1a2040;
    background: linear-gradient(135deg, #fafbff 0%, #f1f5ff 100%);
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.2);
  }

  &.recommended {
    border-color: #10b981;

    &:not(.selected) {
      background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
    }
  }

  .card-header-compact {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;

    mat-icon {
      color: #1a2040;
      font-size: 20px;
      width: 20px;
      height: 20px;
    }

    h5 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 700;
      color: #1f2937;
      flex: 1;
    }

    .recommended-badge {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 600;
    }
  }

  .card-formula {
    background: #f3f4f6;
    padding: 8px 12px;
    border-radius: 8px;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: 0.9rem;
    color: #4b5563;
    margin-bottom: 12px;
    text-align: center;
    font-weight: 600;
  }

  .card-description {
    color: #6b7280;
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 16px;
  }

  .card-example {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-bottom: 16px;

    .before, .after {
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.8rem;
      padding: 4px 8px;
      border-radius: 4px;
    }

    .before {
      background: #fef2f2;
      color: #dc2626;
    }

    .after {
      background: #f0fdf4;
      color: #16a34a;
    }

    .arrow {
      color: #6b7280;
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }

  .card-best-for {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #059669;
    font-size: 0.85rem;

    mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }
}

// Grille des cards d'encodage
.encoding-cards-grid {
  padding: 24px 24px 24px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
}

.encoding-card {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    border-color: #c7d2fe;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(79, 70, 229, 0.15);
  }

  &.selected {
    border-color: #1a2040;
    background: linear-gradient(135deg, #fafbff 0%, #f1f5ff 100%);
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.2);
  }

  .card-header-compact {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;

    mat-icon {
      color: #1a2040;
      font-size: 20px;
      width: 20px;
      height: 20px;
    }

    h5 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 700;
      color: #1f2937;
    }
  }

  .card-description {
    color: #6b7280;
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 16px;
  }

  .card-example-small {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 10px;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: 0.8rem;
    color: #4b5563;
    margin-bottom: 16px;
    text-align: center;
  }

  .card-best-for {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #059669;
    font-size: 0.85rem;

    mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }
}

// Résumé des sélections
.selection-summary {
  margin-top: 24px;

  .summary-card-modern {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 1px solid #10b981;
    border-radius: 12px;
    padding: 20px;

    .summary-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;

      mat-icon {
        color: #059669;
        font-size: 24px;
        width: 24px;
        height: 24px;
      }

      h4 {
        margin: 0;
        font-size: 1.2rem;
        font-weight: 700;
        color: #064e3b;
      }
    }

    .summary-items {
      display: flex;
      flex-direction: column;
      gap: 8px;

      .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .label {
          color: #065f46;
          font-weight: 600;
        }

        .value {
          color: #064e3b;
          font-weight: 700;
          background: white;
          padding: 4px 12px;
          border-radius: 6px;
          border: 1px solid #a7f3d0;
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .modern-intro-card .intro-content {
    flex-direction: column;
    text-align: center;
  }

  .feature-header {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 12px;

    .feature-toggle {
      align-self: stretch;
      display: flex;
      justify-content: center;
    }
  }

  .scaling-cards-grid,
  .encoding-cards-grid {
    grid-template-columns: 1fr;
  }
}

// ===== STYLES POUR HYPERPARAMÈTRES (ÉTAPE 7) =====

// Grille principale des hyperparamètres en 2 colonnes
.hyperparameters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
  gap: 24px;
  margin-top: 24px;
}

// Cards individuelles des paramètres
.hyper-param-card {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 16px;
  padding: 24px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #1a2040 0%, #7c3aed 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover {
    border-color: #c7d2fe;
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(79, 70, 229, 0.15);

    &::before {
      opacity: 1;
    }
  }

  // Header du paramètre
  .param-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    margin-bottom: 20px;

    .param-icon {
      background: linear-gradient(135deg, #1a2040 0%, #7c3aed 100%);
      color: white;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;

      mat-icon {
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
    }

    .param-title {
      flex: 1;

      h4 {
        margin: 0 0 6px 0;
        font-size: 1.2rem;
        font-weight: 700;
        color: #1f2937;
      }

      p {
        margin: 0;
        color: #6b7280;
        font-size: 0.9rem;
        line-height: 1.5;
      }
    }

    .help-btn {
      color: #9ca3af;
      cursor: help;
      font-size: 20px;
      width: 20px;
      height: 20px;

      &:hover {
        color: #1a2040;
      }
    }
  }
}

// Contrôles pour les paramètres numériques
.number-control {
  margin-bottom: 20px;

  .number-input-wrapper {
    position: relative;
    margin-bottom: 16px;

    .modern-number-input {
      width: 100%;
      background: #f8fafc;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 16px 20px 6px 20px;
      font-size: 1.1rem;
      font-weight: 600;
      color: #1f2937;
      transition: all 0.3s ease;

      &:focus {
        outline: none;
        border-color: #1a2040;
        background: white;
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
      }

      &::-webkit-outer-spin-button,
      &::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    }

    .input-label {
      position: absolute;
      top: 6px;
      left: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  }

  .value-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;

    .current-badge {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
      white-space: nowrap;
    }

    .range-info {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      color: #6b7280;

      .range-separator {
        color: #d1d5db;
      }
    }
  }
}

// Grille des options pour les paramètres select
.select-options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

.option-card {
  background: #f8fafc;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;

  &:hover {
    border-color: #c7d2fe;
    transform: translateY(-1px);
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1);
  }

  &.selected {
    border-color: #1a2040;
    background: linear-gradient(135deg, #fafbff 0%, #f1f5ff 100%);
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.2);

    .option-header h5 {
      color: #1a2040;
    }
  }

  .option-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;

    mat-icon {
      color: #6b7280;
      font-size: 18px;
      width: 18px;
      height: 18px;
    }

    h5 {
      margin: 0;
      font-size: 0.95rem;
      font-weight: 700;
      color: #1f2937;
      flex: 1;
    }
  }

  .option-description {
    color: #6b7280;
    font-size: 0.8rem;
    line-height: 1.4;
    margin-bottom: 10px;
  }

  .option-badge {
    display: flex;
    align-items: center;
    gap: 4px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 600;
    width: fit-content;

    mat-icon {
      font-size: 12px;
      width: 12px;
      height: 12px;
    }
  }
}

// Contrôles pour les paramètres booléens
.boolean-control {
  margin-bottom: 16px;

  .toggle-label {
    font-weight: 600;
    color: #374151;
  }

  ::ng-deep .mat-slide-toggle {
    .mat-slide-toggle-bar {
      height: 24px;
      width: 48px;
      border-radius: 12px;
    }

    .mat-slide-toggle-thumb {
      height: 20px;
      width: 20px;
    }
  }
}

.boolean-feedback {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #f8fafc;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  transition: all 0.3s ease;

  &.active {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-color: #10b981;

    .feedback-icon mat-icon {
      color: #059669;
    }

    .feedback-text {
      color: #065f46;
    }
  }

  .feedback-icon {
    flex-shrink: 0;

    mat-icon {
      color: #9ca3af;
      font-size: 20px;
      width: 20px;
      height: 20px;
      transition: color 0.3s ease;
    }
  }

  .feedback-text {
    color: #6b7280;
    font-size: 0.9rem;
    line-height: 1.4;
    transition: color 0.3s ease;
  }
}

// Impact des paramètres
.param-impact {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
  border: 1px solid #f59e0b;
  border-radius: 12px;
  color: #92400e;
  font-size: 0.85rem;
  line-height: 1.4;

  mat-icon {
    color: #d97706;
    font-size: 18px;
    width: 18px;
    height: 18px;
  }
}

// Responsive design pour hyperparamètres
@media (max-width: 1200px) {
  .hyperparameters-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .hyper-param-card {
    padding: 20px;
  }

  .param-header {
    .param-icon {
      width: 40px;
      height: 40px;

      mat-icon {
        font-size: 20px;
        width: 20px;
        height: 20px;
      }
    }

    .param-title h4 {
      font-size: 1.1rem;
    }
  }

  .select-options-grid {
    grid-template-columns: 1fr;
  }

  .value-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
}

// ===== RÉSUMÉ MODERNE ET PROFESSIONNEL (ÉTAPE 8) =====

.modern-summary {
  background: white;
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  padding: 32px;
  margin: 24px 0;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

  // Header professionnel
  .summary-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid #e2e8f0;

    .header-icon {
      background: linear-gradient(135deg, #1a2040 0%, #7c3aed 100%);
      color: white;
      width: 56px;
      height: 56px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);

      mat-icon {
        font-size: 28px;
        width: 28px;
        height: 28px;
      }
    }

    .header-content {
      flex: 1;

      h3 {
        margin: 0 0 6px 0;
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e293b;
      }

      p {
        margin: 0;
        color: #64748b;
        font-size: 1rem;
        line-height: 1.5;
      }
    }
  }

  // Grille des paramètres
  .config-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 32px;
  }

  .config-card {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;

    &:hover {
      border-color: #c7d2fe;
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.1);
      transform: translateY(-2px);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;

      .card-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;

        &.dataset {
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }
        &.algorithm {
          background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        &.target {
          background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        &.split {
          background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        }

        mat-icon {
          font-size: 20px;
          width: 20px;
          height: 20px;
        }
      }

      .card-title {
        flex: 1;

        h4 {
          margin: 0 0 4px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1e293b;
        }

        .card-status {
          background: #dcfce7;
          color: #166534;
          padding: 2px 8px;
          border-radius: 6px;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;

          &.verified {
            background: #dcfce7;
            color: #166534;
          }
        }
      }
    }

    .card-content {
      .data-name {
        font-size: 1.1rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 8px;
        word-break: break-word;
      }

      .data-info {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;

        .info-item {
          color: #64748b;
          font-size: 0.9rem;

          strong {
            color: #1a2040;
            font-weight: 600;
          }
        }

        .info-separator {
          color: #cbd5e1;
          font-weight: 500;
        }

        .task-type {
          background: #ede9fe;
          color: #7c3aed;
          padding: 4px 10px;
          border-radius: 6px;
          font-size: 0.8rem;
          font-weight: 600;
        }

        .target-description {
          color: #64748b;
          font-size: 0.9rem;
          font-style: italic;
        }

        .split-bar {
          display: flex;
          width: 100%;
          height: 24px;
          border-radius: 6px;
          overflow: hidden;
          border: 1px solid #e2e8f0;
          margin-top: 4px;

          .split-train {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
          }

          .split-test {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
          }
        }
      }
    }
  }

  // Validation finale
  .final-validation {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 24px;

    .validation-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 20px;
      justify-content: center;

      mat-icon {
        color: #1a2040;
        font-size: 24px;
        width: 24px;
        height: 24px;
      }

      h4 {
        margin: 0;
        font-size: 1.2rem;
        font-weight: 700;
        color: #1e293b;
      }

      .overall-status {
        background: #fef3c7;
        color: #92400e;
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;

        &.ready {
          background: #dcfce7;
          color: #166534;
        }
      }
    }

    .validation-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .validation-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      transition: all 0.3s ease;

      &.validated {
        border-color: #10b981;
        background: #f0fdf4;

        .validation-check mat-icon {
          color: #10b981;
        }

        .validation-text {
          color: #166534;
        }
      }

      .validation-check {
        mat-icon {
          color: #cbd5e1;
          font-size: 20px;
          width: 20px;
          height: 20px;
          transition: color 0.3s ease;
        }
      }

      .validation-text {
        color: #64748b;
        font-size: 0.9rem;
        font-weight: 500;
        transition: color 0.3s ease;
      }
    }

    .ready-message {
      background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
      border: 1px solid #10b981;
      border-radius: 12px;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      text-align: left;

      .message-icon {
        background: #10b981;
        color: white;
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;

        mat-icon {
          font-size: 24px;
          width: 24px;
          height: 24px;
        }
      }

      .message-content {
        h5 {
          margin: 0 0 4px 0;
          font-size: 1.1rem;
          font-weight: 700;
          color: #166534;
        }

        p {
          margin: 0;
          color: #166534;
          font-size: 0.9rem;
          opacity: 0.8;
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .modern-summary {
    padding: 24px;

    .summary-header {
      flex-direction: column;
      text-align: center;
      gap: 12px;
    }

    .config-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .validation-items {
      grid-template-columns: 1fr;
    }

    .ready-message {
      flex-direction: column;
      text-align: center;
    }
  }
}

// Animations
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

// ==================================================
// ANIMATIONS DE PROGRESSION MODERNES
// ==================================================

// Animation pour la barre de progression
.animate-progress {
  transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.progress-shimmer {
  position: absolute;
  top: 0;
  left: -100%;
  height: 100%;
  width: 100%;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

// Étapes de progression
.training-steps {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-top: 2rem;
  flex-wrap: wrap;

  .step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    min-width: 120px;

    mat-icon {
      font-size: 1.5rem;
      color: #6b7280;
      transition: color 0.3s ease;
    }

    span {
      font-size: 0.875rem;
      color: #6b7280;
      text-align: center;
      font-weight: 500;
    }

    &.completed {
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.2);

      mat-icon {
        color: #22c55e;
        animation: checkBounce 0.5s ease;
      }

      span {
        color: #22c55e;
      }
    }
  }
}

@keyframes checkBounce {
  0% { transform: scale(0.8); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

// ==================================================
// ANIMATION DE COMPLETION STYLE STRIPE/LINEAR
// ==================================================

.completion-animation-container {
  display: flex;
  justify-content: center;
  padding: 2rem 0;
  animation: slideUpFade 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideUpFade {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.completion-card {
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  border-radius: 20px;
  padding: 3rem;
  box-shadow:
    0 20px 40px rgba(0, 0, 0, 0.08),
    0 4px 12px rgba(0, 0, 0, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  max-width: 600px;
  width: 100%;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg,
      #6366f1 0%,
      #8b5cf6 25%,
      #ec4899 50%,
      #f59e0b 75%,
      #10b981 100%);
    animation: gradientShift 3s ease infinite;
  }
}

@keyframes gradientShift {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 1; }
}

.completion-header {
  text-align: center;
  margin-bottom: 2rem;

  .completion-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #0f172a;
    margin: 1.5rem 0 0.5rem;
    letter-spacing: -0.025em;
  }

  .completion-description {
    font-size: 1.125rem;
    color: #64748b;
    margin: 0;
    font-weight: 400;
  }
}

// Checkmark animé style Stripe
.success-checkmark {
  margin: 0 auto;
  width: 80px;
  height: 80px;
  position: relative;

  .check-icon {
    width: 80px;
    height: 80px;
    position: relative;
    border-radius: 50%;
    box-sizing: content-box;
    border: 4px solid #22c55e;
    background: #22c55e;
    animation: checkScale 0.6s ease;

    &::before {
      top: 3px;
      left: -2px;
      width: 30px;
      transform-origin: 100% 50%;
      border-radius: 100px 0 0 100px;
    }

    &::after {
      top: 0;
      left: 30px;
      width: 60px;
      transform-origin: 0 50%;
      border-radius: 0 100px 100px 0;
      animation: rotateCircle 0.6s ease;
    }

    &::before,
    &::after {
      content: '';
      height: 100px;
      position: absolute;
      background: #fff;
      transform: rotate(-45deg);
    }

    .icon-line {
      height: 5px;
      background-color: #fff;
      display: block;
      border-radius: 2px;
      position: absolute;
      z-index: 10;

      &.line-tip {
        top: 46px;
        left: 14px;
        width: 25px;
        transform: rotate(45deg);
        animation: iconLineTip 0.75s;
      }

      &.line-long {
        top: 38px;
        right: 8px;
        width: 47px;
        transform: rotate(-45deg);
        animation: iconLineLong 0.75s;
      }
    }

    .icon-circle {
      top: -4px;
      left: -4px;
      z-index: 10;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      position: absolute;
      box-sizing: content-box;
      border: 4px solid rgba(34, 197, 94, 0.25);
    }

    .icon-fix {
      top: 8px;
      width: 5px;
      left: 26px;
      z-index: 1;
      height: 85px;
      position: absolute;
      transform: rotate(-45deg);
      background-color: #fff;
    }
  }
}

@keyframes checkScale {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes rotateCircle {
  0% { transform: rotate(-45deg); }
  5% { transform: rotate(-45deg); }
  12% { transform: rotate(-405deg); }
  100% { transform: rotate(-405deg); }
}

@keyframes iconLineTip {
  0% { width: 0; left: 1px; top: 19px; }
  54% { width: 0; left: 1px; top: 19px; }
  70% { width: 50px; left: -8px; top: 37px; }
  84% { width: 17px; left: 21px; top: 48px; }
  100% { width: 25px; left: 14px; top: 45px; }
}

@keyframes iconLineLong {
  0% { width: 0; right: 46px; top: 54px; }
  65% { width: 0; right: 46px; top: 54px; }
  84% { width: 55px; right: 0px; top: 35px; }
  100% { width: 47px; right: 8px; top: 38px; }
}

// Statistiques de completion
.completion-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .stat-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(99, 102, 241, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(99, 102, 241, 0.1);

    .stat-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;

      mat-icon {
        color: white;
        font-size: 1.5rem;
      }
    }

    .stat-content {
      display: flex;
      flex-direction: column;

      .stat-value {
        font-size: 1.25rem;
        font-weight: 700;
        color: #0f172a;
      }

      .stat-label {
        font-size: 0.875rem;
        color: #64748b;
        font-weight: 500;
      }
    }
  }
}

// Bouton d'action principal
.completion-action {
  text-align: center;

  .completion-btn {
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    color: white;
    border: none;
    border-radius: 12px;
    padding: 1rem 2rem;
    font-size: 1.125rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 12px 35px rgba(99, 102, 241, 0.5);
    }

    &:active:not(:disabled) {
      transform: translateY(0);
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-shimmer {
      position: absolute;
      top: 0;
      left: -100%;
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.2) 50%,
        transparent 100%);
      animation: btnShimmer 2s infinite;
    }
  }
}

@keyframes btnShimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

// ==================================================
// ÉTAPE 9 - DESIGN STYLE LINEAR/STRIPE
// ==================================================

.step9-container {
  padding: 0;
  margin: 0;
  background: #fafbfc;
  min-height: 100vh;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

// Header style Linear
.step9-header {
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-bottom: 1px solid #e6ebf1;
  padding: 3rem 0;
  margin-bottom: 2rem;
  text-align: center;

  .header-status {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 2rem;

    .status-content-centered {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;

      .status-icon {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);

        &.success {
          background: linear-gradient(135deg, #00d4aa 0%, #01a085 100%);
          box-shadow: 0 8px 32px rgba(0, 212, 170, 0.4);
          animation: successPulse 2s ease-in-out infinite;
        }

        &.loading {
          animation: iconSpin 2s linear infinite;
        }

        mat-icon {
          color: white;
          font-size: 2.5rem;
          width: 2.5rem;
          height: 2.5rem;
        }
      }

      .status-text {
        text-align: center;

        .status-title {
          font-size: 2.25rem;
          font-weight: 700;
          color: #0f172a;
          margin: 0 0 1rem;
          letter-spacing: -0.025em;
          line-height: 1.2;
        }

        .status-subtitle {
          font-size: 1.25rem;
          color: #64748b;
          margin: 0 0 1.5rem;
          font-weight: 400;
          line-height: 1.5;
          max-width: 600px;
        }

        .status-progress {
          display: flex;
          justify-content: center;

          .progress-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            border: 1px solid rgba(102, 126, 234, 0.2);

            &.completed {
              background: rgba(0, 212, 170, 0.1);
              color: #00d4aa;
              border-color: rgba(0, 212, 170, 0.2);
              animation: badgeBounce 0.5s ease;
            }
          }
        }
      }
    }
  }
}

@keyframes badgeBounce {
  0% { transform: scale(0.9); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

@keyframes successPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes iconSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// Contenu principal avec padding généreux
.step9-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 3rem; // Plus d'espace sur les côtés
  display: grid;
  gap: 2.5rem;
  grid-template-columns: 1fr;
  margin-bottom: 3rem; // Espace en bas
}

// Section Progression avec plus d'espace
.progress-section {
  background: white;
  border-radius: 16px;
  padding: 2.5rem; // Plus d'espace interne
  border: 1px solid #e6ebf1;
  box-shadow: 0 4px 20px rgba(16, 24, 40, 0.08);
  margin: 0 1rem; // Espace sur les côtés

  .progress-header {
    margin-bottom: 1.5rem;

    .progress-info {
      display: flex;
      justify-content: space-between;
      align-items: center;

      .progress-label {
        font-size: 1rem;
        font-weight: 500;
        color: #374151;
      }

      .progress-percentage {
        font-size: 1.5rem;
        font-weight: 700;
        color: #667eea;
      }
    }
  }

  .stripe-progress-bar {
    margin-bottom: 2rem;

    .progress-track {
      width: 100%;
      height: 8px;
      background: #f1f5f9;
      border-radius: 4px;
      overflow: hidden;
      position: relative;

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        border-radius: 4px;
        transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;

        &.animate::after {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          height: 100%;
          width: 100%;
          background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
          animation: progressShimmer 2s infinite;
        }
      }
    }
  }
}

@keyframes progressShimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

// Étapes horizontales style screenshot
.training-steps-horizontal {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;

  .step-card {
    background: #f0fdf4;
    border: 1px solid #bbf7d0;
    border-radius: 12px;
    padding: 1.25rem;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;

    &:not(.completed) {
      background: #f8fafc;
      border-color: #e2e8f0;

      .step-checkmark mat-icon {
        color: #9ca3af;
      }

      .step-title {
        color: #6b7280;
      }

      .step-description {
        color: #9ca3af;
      }
    }

    &.active {
      background: rgba(102, 126, 234, 0.05);
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
      animation: activePulse 2s ease-in-out infinite;

      .step-checkmark mat-icon {
        color: #667eea;
        animation: iconSpin 2s linear infinite;
      }
    }

    &.completed {
      background: #f0fdf4;
      border-color: #22c55e;
      box-shadow: 0 2px 8px rgba(34, 197, 94, 0.15);

      .step-checkmark {
        mat-icon {
          color: #22c55e;
          animation: checkBounce 0.5s ease;
        }
      }

      .step-title {
        color: #16a34a;
        font-weight: 600;
      }

      .step-description {
        color: #15803d;
      }

      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #22c55e, #16a34a);
        border-radius: 12px 12px 0 0;
      }
    }

    .step-checkmark {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 0.75rem;
      border: 2px solid #e2e8f0;

      mat-icon {
        font-size: 1.25rem;
        transition: all 0.3s ease;
      }
    }

    .step-info {
      .step-title {
        display: block;
        font-size: 0.875rem;
        font-weight: 600;
        color: #374151;
        margin-bottom: 0.5rem;
        line-height: 1.2;
      }

      .step-description {
        display: block;
        font-size: 0.75rem;
        color: #6b7280;
        line-height: 1.4;
      }
    }
  }
}

@keyframes activePulse {
  0%, 100% {
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
  }
  50% {
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.25);
  }
}

@keyframes checkBounce {
  0% { transform: scale(0.8); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

// Console Section avec espace
.console-section {
  background: white;
  border-radius: 16px;
  border: 1px solid #e6ebf1;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(16, 24, 40, 0.08);
  margin: 0 1rem; // Espace sur les côtés

  .console-header {
    background: #f8fafc;
    border-bottom: 1px solid #e6ebf1;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;

    .console-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;

      mat-icon {
        font-size: 1.125rem;
        color: #6b7280;
      }
    }

    .console-actions {
      display: flex;
      gap: 0.5rem;

      .console-btn {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.5rem 0.75rem;
        border-radius: 6px;
        border: 1px solid #d1d5db;
        background: white;
        font-size: 0.75rem;
        color: #6b7280;
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover:not(:disabled) {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        &:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        mat-icon {
          font-size: 1rem;
        }
      }
    }
  }

  .stripe-console {
    background: #1e293b;
    color: #e2e8f0;
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
    font-size: 0.875rem;
    max-height: 400px;
    overflow-y: auto;
    padding: 1rem;
    line-height: 1.6;

    .log-entry {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.25rem;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      transition: background-color 0.2s ease;

      &:hover {
        background: rgba(255, 255, 255, 0.02);
      }

      .log-timestamp {
        color: #64748b;
        min-width: 90px;
        font-size: 0.75rem;
      }

      .log-level {
        min-width: 60px;
        font-weight: 600;
        font-size: 0.75rem;
      }

      .log-text {
        flex: 1;
        word-wrap: break-word;
      }

      &.log-info .log-level {
        color: #3b82f6;
      }

      &.log-success .log-level {
        color: #10b981;
      }

      &.log-warning .log-level {
        color: #f59e0b;
      }

      &.log-error .log-level {
        color: #ef4444;
      }

      &.log-placeholder {
        opacity: 0.6;
        font-style: italic;
      }
    }
  }
}

// Section Actions Style Stripe avec espace
.actions-section {
  background: white;
  border-radius: 16px;
  padding: 3rem; // Plus d'espace
  border: 1px solid #e6ebf1;
  box-shadow: 0 4px 20px rgba(16, 24, 40, 0.08);
  margin: 0 1rem; // Espace sur les côtés

  .actions-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    text-align: center;

    .success-indicator {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;

      .success-checkmark {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: linear-gradient(135deg, #00d4aa 0%, #01a085 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        animation: successBounce 0.6s ease;

        mat-icon {
          color: white;
          font-size: 2.5rem;
          width: 2.5rem;
          height: 2.5rem;
        }
      }

      .success-text {
        h3 {
          font-size: 1.5rem;
          font-weight: 600;
          color: #0f172a;
          margin: 0 0 0.5rem;
        }

        p {
          font-size: 1rem;
          color: #64748b;
          margin: 0;
        }
      }
    }

    .action-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;

      .stripe-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.875rem 1.5rem;
        border-radius: 8px;
        font-size: 0.875rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        cursor: pointer;
        border: none;
        min-width: 160px;

        .btn-content {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          position: relative;
          z-index: 2;

          mat-icon {
            font-size: 1.125rem;
          }
        }

        &.primary {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);

          &:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
          }

          &:active {
            transform: translateY(0);
          }

          .btn-shimmer {
            position: absolute;
            top: 0;
            left: -100%;
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%);
            animation: btnShimmer 2s infinite;
            z-index: 1;
          }
        }

        &.secondary {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
          box-shadow: 0 1px 2px rgba(16, 24, 40, 0.05);

          &:hover {
            background: #f9fafb;
            border-color: #9ca3af;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 24, 40, 0.15);
          }

          &:active {
            transform: translateY(0);
          }
        }
      }
    }
  }
}

@keyframes successBounce {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

// Section Résultats avec espace
.results-section {
  background: white;
  border-radius: 16px;
  padding: 3rem; // Plus d'espace
  border: 1px solid #e6ebf1;
  box-shadow: 0 4px 20px rgba(16, 24, 40, 0.08);
  margin: 0 1rem; // Espace sur les côtés

  .results-header {
    margin-bottom: 2rem;
    text-align: center;

    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #0f172a;
      margin: 0 0 0.5rem;
    }

    p {
      font-size: 1rem;
      color: #64748b;
      margin: 0;
    }
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;

    .metric-card {
      background: #f8fafc;
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid #e2e8f0;
      transition: all 0.2s ease;

      &:hover {
        background: #f1f5f9;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(16, 24, 40, 0.1);
      }

      .metric-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1rem;

        mat-icon {
          color: #667eea;
          font-size: 1.25rem;
        }

        .metric-name {
          font-size: 0.875rem;
          font-weight: 600;
          color: #374151;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }
      }

      .metric-value {
        font-size: 2rem;
        font-weight: 700;
        color: #0f172a;
        margin-bottom: 0.75rem;
        line-height: 1;
      }

      .metric-bar {
        width: 100%;
        height: 4px;
        background: #e2e8f0;
        border-radius: 2px;
        overflow: hidden;

        .metric-fill {
          height: 100%;
          background: linear-gradient(90deg, #00d4aa 0%, #01a085 100%);
          border-radius: 2px;
          transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
      }
    }
  }
}

// Responsive Design
@media (max-width: 768px) {
  .step9-header .header-status .status-content-centered {
    padding: 0 1rem;
    gap: 1rem;

    .status-text .status-title {
      font-size: 1.75rem;
    }
  }

  .step9-content {
    padding: 0 1.5rem;
    gap: 2rem;
  }

  .progress-section,
  .console-section,
  .actions-section,
  .results-section {
    margin: 0 0.5rem;
    padding: 1.5rem;
  }

  // Étapes horizontales responsive
  .training-steps-horizontal {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;

    .step-card {
      padding: 1rem;

      .step-info {
        .step-title {
          font-size: 0.8rem;
        }

        .step-description {
          font-size: 0.7rem;
        }
      }
    }
  }

  .actions-section .actions-content .action-buttons {
    flex-direction: column;
    width: 100%;

    .stripe-btn {
      width: 100%;
    }
  }

  .metrics-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .training-steps-horizontal {
    grid-template-columns: 1fr;

    .step-card {
      padding: 0.875rem;
    }
  }
}



// ==================================================
// TRANSFORMATION CONSOLE → POPUP DE SUCCÈS
// ==================================================

.success-popup {
  transform: scale(1.02);
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.15),
    0 8px 20px rgba(34, 197, 94, 0.2) !important;
  border: 2px solid rgba(34, 197, 94, 0.3) !important;
  background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%) !important;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  animation: successPulse 2s ease-in-out infinite;
}

@keyframes successPulse {
  0%, 100% {
    box-shadow:
      0 25px 50px rgba(0, 0, 0, 0.15),
      0 8px 20px rgba(34, 197, 94, 0.2);
  }
  50% {
    box-shadow:
      0 30px 60px rgba(0, 0, 0, 0.2),
      0 12px 30px rgba(34, 197, 94, 0.4);
  }
}

.success-header {
  background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
  border-radius: 16px;
  padding: 2rem;
  margin-bottom: 2rem;
  animation: successSlideDown 0.8s ease-out;
}

@keyframes successSlideDown {
  0% {
    opacity: 0;
    transform: translateY(-30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.success-popup-content {
  animation: successFadeIn 1s ease-out;
}

@keyframes successFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.success-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #16a34a;
  margin: 1.5rem 0 0.5rem;
  text-shadow: 0 2px 4px rgba(34, 197, 94, 0.1);
}

.success-description {
  font-size: 1.125rem;
  color: #15803d;
  margin: 0 0 2rem;
  font-weight: 500;
}

// ==================================================
// NAVIGATION EN MODE TRAINING
// ==================================================

.wizard-nav.training-mode {
  .nav-steps {
    opacity: 0.5;
    pointer-events: none;
  }
}

.training-status-nav {
  padding: 1.5rem;
  background: rgba(99, 102, 241, 0.1);
  border-radius: 12px;
  margin-bottom: 2rem;
  border: 1px solid rgba(99, 102, 241, 0.2);

  .training-indicator {
    display: flex;
    align-items: center;
    gap: 1rem;

        .training-icon {
      font-size: 1.5rem;
      color: #6366f1;
      animation: spin 2s linear infinite;

      // Animation différente si terminé (sera géré par la logique Angular)
      &.completed {
        color: #22c55e;
        animation: none;
      }
    }

    .training-info {
      display: flex;
      flex-direction: column;

      .training-title {
        font-size: 1rem;
        font-weight: 600;
        color: #0f172a;
      }

      .training-progress {
        font-size: 1.25rem;
        font-weight: 700;
        color: #6366f1;
      }
    }
  }
}

.disabled-all {
  pointer-events: none;
  opacity: 0.4;
}

// Styles pour les résultats dans la console
.results-in-console {
  margin-top: 2rem;
  padding: 2rem;
  background: rgba(99, 102, 241, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(99, 102, 241, 0.2);

  .console-results {
    h4 {
      color: #0f172a;
      margin-bottom: 1rem;
      font-size: 1.25rem;
      font-weight: 700;
    }

    .metrics-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;

      .metric-simple {
        padding: 1rem;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        font-family: 'Monaco', 'Menlo', monospace;

        strong {
          color: #6366f1;
        }
      }
    }
  }
}

// Bouton secondaire pour retour au wizard
.modern-btn-secondary {
  background: rgba(255, 255, 255, 0.9);
  color: #6b7280;
  border: 1px solid rgba(156, 163, 175, 0.3);
  border-radius: 12px;
  padding: 1rem 2rem;
  font-size: 1rem;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-left: 1rem;

  &:hover {
    background: rgba(243, 244, 246, 1);
    color: #374151;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  &:active {
    transform: translateY(0);
  }
}

// Messages d'alerte contextuels pour les étapes
.step-requirement-alert {
  margin: 16px 0;
  padding: 12px 16px;
  background: rgba(239, 68, 68, 0.05);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  animation: slideDown 0.3s ease-out;

  .alert-icon {
    font-size: 20px;
    color: #ef4444;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .alert-content {
    flex: 1;

    .alert-title {
      font-size: 13px;
      font-weight: 600;
      color: #ef4444;
      margin-bottom: 4px;
    }

    .alert-text {
      font-size: 12px;
      color: #64748b;
      line-height: 1.4;
    }
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

