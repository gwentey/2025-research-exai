<!-- Page Container avec design √©quilibr√© moderne -->
<div class="ml-pipeline-presentation">

  <!-- Hero Section √âl√©gante -->
  <div class="hero-section">
    <div class="container">
      <div class="hero-content">

        <!-- Badge subtil avec micro-animation -->
        <div class="status-badge">
          <div class="badge-dot"></div>
          <span>{{ 'ML_PIPELINE.MODERN.STATUS_BADGE' | translate }}</span>
        </div>

                        <!-- Titre principal avec gradient subtil -->
        <h1 class="hero-title">
          Let AI guide you to build powerful models
        </h1>

        <!-- Sous-titre √©l√©gant -->
        <p class="hero-subtitle">
          Chat with our AI assistant to create machine learning models. Just like having a data science expert by your side, explaining everything in simple terms.
        </p>

        <!-- Actions avec design Linear -->
        <div class="hero-actions">
          <button
            mat-flat-button
            color="primary"
            class="primary-action"
            (click)="startNewExperiment()">
            {{ 'ML_PIPELINE.MODERN.HERO.START_BUTTON' | translate }}
            <mat-icon>arrow_forward</mat-icon>
          </button>

          <button
            mat-stroked-button
            class="secondary-action"
            (click)="viewExamples()">
            {{ 'ML_PIPELINE.MODERN.HERO.VIEW_EXAMPLES' | translate }}
          </button>
        </div>

      </div>
    </div>
  </div>

  <!-- Code Flow Section - Concept Original -->
  <div class="code-flow-section">
    <div class="container">

            <!-- En-t√™te √©l√©gant -->
      <div class="section-header">
        <h2 class="section-title">How our AI guides you</h2>
        <p class="section-subtitle">A simple conversation that transforms your data into insights</p>
      </div>

      <!-- AI Chat Interface -->
      <div class="chat-interface-container">
        <div class="chat-header">
          <div class="ai-avatar">
            <mat-icon>smart_toy</mat-icon>
          </div>
          <div class="chat-info">
            <div class="ai-name">IBIS-X AI Assistant</div>
            <div class="ai-status">
              <span class="status-dot"></span>
              <span>Ready to help</span>
            </div>
          </div>
          <div class="chat-controls">
            <button mat-icon-button class="play-button" (click)="playConversation()" [disabled]="isPlaying">
              <mat-icon>{{ isPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
            </button>
          </div>
        </div>

                <div class="chat-conversation">

          <!-- Step 1: Dataset -->
          <div class="conversation-step"
               [class.active]="activeStep >= 0"
               [class.completed]="completedSteps.includes(0)"
               (click)="triggerStep(0)">

            <div class="ai-message">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  Hi! I'm your AI assistant. Let's build your first model together! üéØ
                  <br><br>
                  <strong>First, I need to understand your data.</strong> What would you like to analyze?
                </div>
                <div class="message-time">Just now</div>
              </div>
            </div>

            <div class="user-message" [class.visible]="activeStep >= 0">
              <div class="message-bubble user-bubble">
                <div class="message-text">
                  I have customer data and want to predict who might buy our product
                </div>
                <div class="message-time">Just now</div>
              </div>
              <div class="message-avatar user-avatar">
                <mat-icon>person</mat-icon>
              </div>
            </div>

            <div class="ai-response" [class.visible]="activeStep >= 0">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  Perfect! That's a <strong>classification problem</strong>. I'll help you:
                  <div class="step-pills">
                    <span class="pill">üìä Choose your dataset</span>
                    <span class="pill">‚ú® Check data quality automatically</span>
                  </div>
                </div>
                <div class="message-actions">
                  <button mat-stroked-button class="message-action">Browse Datasets</button>
                  <button mat-stroked-button class="message-action">Upload My Data</button>
                </div>
              </div>
            </div>
          </div>

                              <!-- Step 2-3: Cleaning & Objective -->
          <div class="conversation-step"
               [class.active]="activeStep >= 1"
               [class.completed]="completedSteps.includes(1)"
               (click)="triggerStep(1)">

            <div class="ai-message">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  Great choice! I've analyzed your data and found some opportunities:
                  <div class="data-insights">
                    <div class="insight-card">
                      <mat-icon>cleaning_services</mat-icon>
                      <span>I can fix 23 missing values automatically</span>
                    </div>
                    <div class="insight-card">
                      <mat-icon>remove_red_eye</mat-icon>
                      <span>5 outliers detected - should I handle them?</span>
                    </div>
                  </div>
                  <strong>What exactly do you want to predict?</strong>
                </div>
              </div>
            </div>

            <div class="user-message" [class.visible]="activeStep >= 1">
              <div class="message-bubble user-bubble">
                <div class="message-text">
                  I want to predict which customers will purchase within 30 days
                </div>
              </div>
              <div class="message-avatar user-avatar">
                <mat-icon>person</mat-icon>
              </div>
            </div>

            <div class="ai-response" [class.visible]="activeStep >= 1">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  Perfect! üéØ That's a <strong>binary classification</strong>.
                  <br><br>
                  I'll clean your data and prepare it for the best algorithms. Ready to continue?
                </div>
              </div>
            </div>
          </div>

                    <!-- Step 4-5: Division & Preparation -->
          <div class="conversation-step"
               [class.active]="activeStep >= 2"
               [class.completed]="completedSteps.includes(2)"
               (click)="triggerStep(2)">

            <div class="ai-message">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  Now I need to prepare your data properly. Think of it like preparing ingredients for cooking! üë®‚Äçüç≥
                  <div class="preparation-visual">
                    <div class="prep-step">
                      <span class="prep-icon">üçé</span>
                      <span class="prep-text">80% for training (teaching the AI)</span>
                    </div>
                    <div class="prep-step">
                      <span class="prep-icon">üß™</span>
                      <span class="prep-text">20% for testing (checking if it learned)</span>
                    </div>
                    <div class="prep-step">
                      <span class="prep-icon">‚ú®</span>
                      <span class="prep-text">Auto-encode categories into numbers</span>
                    </div>
                  </div>
                  Should I proceed with these smart defaults?
                </div>
              </div>
            </div>

            <div class="user-message" [class.visible]="activeStep >= 2">
              <div class="message-bubble user-bubble">
                <div class="message-text">
                  Yes, that sounds perfect! How do you choose the best algorithm?
                </div>
              </div>
              <div class="message-avatar user-avatar">
                <mat-icon>person</mat-icon>
              </div>
            </div>
          </div>

                              <!-- Step 6-8: Algorithm, Parameters & Training -->
          <div class="conversation-step"
               [class.active]="activeStep >= 3"
               [class.completed]="completedSteps.includes(3)"
               (click)="triggerStep(3)">

            <div class="ai-message">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble">
                <div class="message-text">
                  I'll test 3 different AI algorithms to find the best one for your data:
                  <div class="algorithm-race">
                    <div class="algorithm-card">
                      <div class="algo-icon">üå≥</div>
                      <div class="algo-info">
                        <strong>Random Forest</strong>
                        <span>Good for explaining decisions</span>
                      </div>
                      <div class="algo-score">89%</div>
                    </div>
                    <div class="algorithm-card winner">
                      <div class="algo-icon">‚ö°</div>
                      <div class="algo-info">
                        <strong>XGBoost</strong>
                        <span>Best performance</span>
                      </div>
                      <div class="algo-score">94%</div>
                    </div>
                    <div class="algorithm-card">
                      <div class="algo-icon">üß†</div>
                      <div class="algo-info">
                        <strong>Neural Network</strong>
                        <span>Complex patterns</span>
                      </div>
                      <div class="algo-score">91%</div>
                    </div>
                  </div>
                  <strong>XGBoost wins!</strong> Now training your final model...
                </div>
              </div>
            </div>

            <div class="training-progress" [class.visible]="activeStep >= 3">
              <div class="progress-circle">
                <svg viewBox="0 0 100 100">
                  <circle class="progress-bg" cx="50" cy="50" r="45"></circle>
                  <circle class="progress-fill" cx="50" cy="50" r="45" [style.stroke-dashoffset]="progressOffset"></circle>
                </svg>
                <div class="progress-text">
                  <span class="progress-number">{{ trainingProgress }}%</span>
                  <span class="progress-label">Training</span>
                </div>
              </div>
            </div>
          </div>

          <!-- XAI Explanation Results -->
          <div class="conversation-step final-step" [class.active]="showOutput">

            <div class="ai-message celebration">
              <div class="message-avatar">
                <mat-icon>smart_toy</mat-icon>
              </div>
              <div class="message-bubble ai-bubble success-bubble">
                <div class="message-text">
                  üéâ <strong>Your model is ready!</strong> Here's what I learned:

                  <div class="model-insights">
                    <div class="insight-metric">
                      <div class="metric-icon">üéØ</div>
                      <div class="metric-content">
                        <strong>{{ finalAccuracy }}% Accuracy</strong>
                        <span>Very reliable predictions</span>
                      </div>
                    </div>
                    <div class="insight-metric">
                      <div class="metric-icon">üß†</div>
                      <div class="metric-content">
                        <strong>Top 3 Important Factors:</strong>
                        <span>Purchase history, Age, Website time</span>
                      </div>
                    </div>
                    <div class="insight-metric">
                      <div class="metric-icon">üìä</div>
                      <div class="metric-content">
                        <strong>Explainable Predictions</strong>
                        <span>I can show you WHY for each decision</span>
                      </div>
                    </div>
                  </div>

                  Want to try it on new customers or see detailed explanations?
                </div>
                <div class="message-actions celebration-actions">
                  <button mat-flat-button color="primary" class="success-action">
                    <mat-icon>play_arrow</mat-icon>
                    Try Predictions
                  </button>
                  <button mat-stroked-button class="explain-action">
                    <mat-icon>visibility</mat-icon>
                    Show Me Why
                  </button>
                </div>
              </div>
            </div>
          </div>

        </div>

                <!-- Conversation Controls -->
        <div class="chat-controls-bottom">
          <div class="conversation-progress">
            <span class="progress-text">Conversation Progress</span>
            <div class="progress-indicator">
              <div class="progress-bar" [style.width.%]="codeProgress"></div>
            </div>
            <span class="progress-steps">{{ completedSteps.length }}/4 steps</span>
          </div>
          <button
            mat-stroked-button
            class="restart-conversation"
            (click)="resetCodeAnimation()">
            <mat-icon>refresh</mat-icon>
            Restart Conversation
          </button>
        </div>

      </div>

    </div>
  </div>

  <!-- Features Grid Style Linear -->
  <div class="features-section">
    <div class="container">

      <!-- Grid de Features √âl√©gant -->
      <div class="features-grid">

        <div class="feature-card" (mouseenter)="onFeatureHover(0)" (mouseleave)="onFeatureLeave(0)">
          <div class="feature-icon-wrapper">
            <div class="icon-background"></div>
            <mat-icon class="feature-icon">mouse</mat-icon>
          </div>
          <h3 class="feature-title">No-Code Interface</h3>
          <p class="feature-description">Build ML models with clicks and drags. No programming knowledge required whatsoever.</p>
          <div class="feature-metric">
            <span class="metric-value">0</span>
            <span class="metric-label">lines of code</span>
          </div>
        </div>

        <div class="feature-card" (mouseenter)="onFeatureHover(1)" (mouseleave)="onFeatureLeave(1)">
          <div class="feature-icon-wrapper">
            <div class="icon-background"></div>
            <mat-icon class="feature-icon">visibility</mat-icon>
          </div>
          <h3 class="feature-title">Explainable AI</h3>
          <p class="feature-description">Understand every prediction with visual explanations. See exactly why your model made each decision.</p>
          <div class="feature-metric">
            <span class="metric-value">100%</span>
            <span class="metric-label">transparent</span>
          </div>
        </div>

        <div class="feature-card" (mouseenter)="onFeatureHover(2)" (mouseleave)="onFeatureLeave(2)">
          <div class="feature-icon-wrapper">
            <div class="icon-background"></div>
            <mat-icon class="feature-icon">auto_fix_high</mat-icon>
          </div>
          <h3 class="feature-title">AutoML Magic</h3>
          <p class="feature-description">Our AI handles the complexity - algorithm selection, parameter tuning, and optimization automatically.</p>
          <div class="feature-metric">
            <span class="metric-value">8</span>
            <span class="metric-label">guided steps</span>
          </div>
        </div>

        <div class="feature-card" (mouseenter)="onFeatureHover(3)" (mouseleave)="onFeatureLeave(3)">
          <div class="feature-icon-wrapper">
            <div class="icon-background"></div>
            <mat-icon class="feature-icon">speed</mat-icon>
          </div>
          <h3 class="feature-title">Instant Results</h3>
          <p class="feature-description">From data upload to deployed model in minutes. Real-time performance metrics and visual feedback.</p>
          <div class="feature-metric">
            <span class="metric-value">5min</span>
            <span class="metric-label">avg. training</span>
          </div>
        </div>

      </div>

    </div>
  </div>

  <!-- CTA Section √âl√©gante -->
  <div class="cta-section">
    <div class="container">

      <div class="cta-content">
        <h2 class="cta-title">Ready to build your first AI model?</h2>
        <p class="cta-subtitle">Join thousands of users creating explainable AI models without writing a single line of code</p>

        <!-- Stats Preview Subtiles -->
        <div class="stats-preview">
          <div class="stat-item">
            <span class="stat-number" [class.animated]="statsAnimated">2,847</span>
            <span class="stat-label">models trained</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" [class.animated]="statsAnimated">94%</span>
            <span class="stat-label">avg. accuracy</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" [class.animated]="statsAnimated">45s</span>
            <span class="stat-label">avg. training time</span>
          </div>
        </div>

                <div class="cta-actions">
          <button
            mat-flat-button
            color="primary"
            class="primary-action"
            (click)="startNewExperiment()">
            Start Training Your Model
            <mat-icon>rocket_launch</mat-icon>
          </button>

          <button
            mat-stroked-button
            class="secondary-action"
            (click)="openWizard()">
            See Explainability Demo
          </button>
        </div>
      </div>

    </div>
  </div>

</div>
