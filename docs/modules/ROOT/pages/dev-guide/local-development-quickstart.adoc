= Guide de DÃ©marrage Rapide : DÃ©veloppement Local IBIS-X
:description: Guide pratique pour dÃ©marrer rapidement l'environnement de dÃ©veloppement local IBIS-X avec la nouvelle approche sÃ©quentielle
:keywords: dÃ©marrage rapide, dÃ©veloppement local, make dev, installation, premiÃ¨re utilisation
:page-layout: default

== ğŸš€ DÃ©marrage Ultra-Rapide

[.lead]
Lancez votre environnement de dÃ©veloppement IBIS-X en **moins de 5 minutes** avec cette nouvelle approche simplifiÃ©e et fiable.

[NOTE]
.Nouveau ! DÃ©ploiement SÃ©quentiel Fiable
====
ğŸ†• **Fini les erreurs de dÃ©marrage !** Notre nouveau systÃ¨me de dÃ©ploiement sÃ©quentiel garantit que tous les services dÃ©marrent dans le bon ordre, Ã©liminant les problÃ¨mes de connexion Ã  la base de donnÃ©es.
====

== âš¡ Installation Express

=== 1. PrÃ©requis (Installation Unique)

Assurez-vous d'avoir installÃ© :

[source,bash]
----
# VÃ©rification rapide des outils
docker --version         # âœ… Docker Desktop
minikube version         # âœ… Minikube  
kubectl version --client # âœ… kubectl
skaffold version         # âœ… Skaffold
python --version         # âœ… Python 3.8+
----

[TIP]
.Installation Automatique des PrÃ©requis
====
Si certains outils manquent, consultez notre xref:dev-guide/environment-setup.adoc[Guide d'Installation des PrÃ©requis] qui inclut des scripts automatisÃ©s pour Windows, macOS et Linux.
====

=== 2. Configuration des Secrets

CrÃ©ez un fichier `.env` Ã  la racine du projet avec vos credentials :

[source,bash]
----
# Base de donnÃ©es (utilise les valeurs par dÃ©faut pour le local)
DATABASE_URL=postgresql://ibis_x_user:password@postgresql-service.ibis-x.svc.cluster.local:5432/ibis_x_db

# JWT Secret (gÃ©nÃ©rez une clÃ© sÃ©curisÃ©e)
SECRET_KEY=your-super-secret-jwt-key-here

# OAuth Google (obtenez vos clÃ©s sur Google Cloud Console)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
LOCAL_REDIRECT_URL=http://localhost:8080/authentication/callback

# Kaggle API (pour l'import automatique des datasets)
KAGGLE_USERNAME=your-kaggle-username
KAGGLE_KEY=your-kaggle-api-key
----

[IMPORTANT]
.Configuration OAuth Google
====
Pour obtenir vos clÃ©s Google OAuth :

1. Allez sur https://console.cloud.google.com/
2. CrÃ©ez un nouveau projet ou sÃ©lectionnez un projet existant
3. Activez l'API Google+ 
4. CrÃ©ez des identifiants OAuth 2.0
5. Ajoutez `http://localhost:8080` aux origines autorisÃ©es
====

== ğŸ¯ Commandes de DÃ©marrage

=== DÃ©marrage Complet avec Vrais Datasets (RecommandÃ©)

[.lead]
**ğŸ†• Nouveau !** `make dev` inclut maintenant automatiquement les 7 vrais datasets IBIS-X.

[source,bash]
----
# Installation et dÃ©marrage complet avec vrais datasets
make dev
----

Cette commande exÃ©cute automatiquement :
1. âœ… VÃ©rification des prÃ©requis
2. âœ… Mise Ã  jour des secrets Kubernetes  
3. âœ… DÃ©marrage de Minikube
4. âœ… CrÃ©ation du namespace
5. âœ… **DÃ©ploiement des services** (PostgreSQL, API, Frontend, MinIO)
6. âœ… **Attente que PostgreSQL soit prÃªt**
7. âœ… **DÃ©ploiement des jobs de migration**
8. âœ… **ğŸ†• Initialisation automatique des 7 vrais datasets**
9. âœ… **Port forwards automatiques** (URLs d'accÃ¨s affichÃ©es)
10. âœ… Affichage des logs en temps rÃ©el

=== DÃ©marrage Sans Datasets (Tests Uniquement)

[source,bash]
----
# Installation SANS datasets (pour tests spÃ©cialisÃ©s uniquement)
make dev-no-data
----

Version allÃ©gÃ©e pour des cas spÃ©cifiques :
- ğŸ§ª **Tests de l'interface** sans dÃ©pendances donnÃ©es
- âš¡ **DÃ©veloppement frontend pur**
- ğŸ”§ **Tests d'infrastructure** uniquement

=== Option 3 : DÃ©marrage Rapide (Minikube DÃ©jÃ  Actif)

[source,bash]
----
# Si Minikube est dÃ©jÃ  en cours d'exÃ©cution
make quick-dev
----

== ğŸ® Utilisation

=== AccÃ¨s aux Services

Une fois le dÃ©marrage terminÃ©, accÃ©dez Ã  votre application :

[cols="2,3,2", options="header"]
|===
|Service |URL |Description

|**ğŸ¨ Frontend Angular**
|http://localhost:8080
|Interface utilisateur principale

|**ğŸ”Œ API Gateway**  
|http://localhost:9000
|API REST backend

|**ğŸ“š Documentation API**
|http://localhost:9000/docs
|Interface Swagger interactive

|**ğŸ’¾ MinIO Console**
|http://localhost:6701
|Gestion du stockage (admin/admin)
|===

=== VÃ©rification du Statut

[source,bash]
----
# VÃ©rifier que tous les services sont actifs
kubectl get pods -n ibis-x

# RÃ©sultat attendu :
# NAME                                READY   STATUS
# api-gateway-xxx                     1/1     Running    
# frontend-xxx                        1/1     Running
# minio-xxx                          1/1     Running
# postgresql-0                        1/1     Running  
# service-selection-xxx               1/1     Running
----

[source,bash]
----
# VÃ©rifier que les jobs ont terminÃ© avec succÃ¨s
kubectl get jobs -n ibis-x

# RÃ©sultat attendu :
# NAME                            COMPLETIONS   AGE
# api-gateway-migration-job       1/1           2m
# service-selection-migration-job 1/1           2m
# service-selection-data-init-job 1/1           2m
----

== ğŸ› ï¸ Commandes de Gestion

=== DÃ©veloppement Quotidien

[source,bash]
----
# Voir les logs en temps rÃ©el de tous les services
make logs

# ArrÃªter l'application (garde Minikube actif)
make stop

# RedÃ©marrage rapide aprÃ¨s modifications
make quick-dev
----

=== Gestion AvancÃ©e

[source,bash]
----
# Nettoyage complet (supprime tout)
make clean

# Reset complet (clean + redÃ©marrage)
make reset

# DÃ©ployer uniquement les services (sans jobs)
make deploy-services

# DÃ©ployer uniquement les jobs (PostgreSQL doit Ãªtre prÃªt)
make deploy-jobs
----

== ğŸ”§ RÃ©solution de ProblÃ¨mes

=== ProblÃ¨mes Courants

==== âŒ "Jobs Ã©chouent avec Connection refused"

[source,bash]
----
# Solution : Utiliser le dÃ©ploiement sÃ©quentiel
make clean
make dev  # La nouvelle approche rÃ©sout ce problÃ¨me automatiquement
----

==== âŒ "PostgreSQL lent Ã  dÃ©marrer"

[source,bash]
----
# Attendre plus longtemps ou augmenter les ressources Minikube
minikube config set memory 4096
minikube config set cpus 2
minikube delete && minikube start
----

==== âŒ "Images Docker non trouvÃ©es"

[source,bash]
----
# Configurer l'environnement Docker sur Minikube
eval $(minikube docker-env)  # Linux/macOS
# ou 
minikube docker-env --shell=powershell | Invoke-Expression  # Windows
----

=== Debugging AvancÃ©

[source,bash]
----
# Voir les dÃ©tails d'un pod spÃ©cifique
kubectl describe pod -n ibis-x <nom-du-pod>

# Voir les logs d'un service spÃ©cifique  
kubectl logs -n ibis-x deployment/api-gateway -f

# VÃ©rifier les secrets et configmaps
kubectl get secrets,configmaps -n ibis-x
----

== ğŸš€ Ã‰tapes Suivantes

Une fois votre environnement actif :

1. **ğŸ¯ Explorez l'Interface** : Connectez-vous sur http://localhost:8080
2. **ğŸ“Š Testez les Datasets** : Parcourez les datasets prÃ©-chargÃ©s
3. **ğŸ” Consultez l'API** : Explorez http://localhost:9000/docs
4. **ğŸ’» DÃ©veloppez** : Vos modifications sont automatiquement reloadÃ©es
5. **ğŸ“š Approfondissez** : Consultez la xref:dev-guide/local-development-sequential.adoc[Documentation Technique DÃ©taillÃ©e]

[NOTE]
.Hot Reload Actif
====
âœ¨ **Skaffold surveille automatiquement** vos modifications de code et redÃ©ploie les services modifiÃ©s en temps rÃ©el. Pas besoin de redÃ©marrer manuellement !
====

== ğŸ“‹ Aide-MÃ©moire des Commandes

[source,bash]
----
# DÃ‰MARRAGE
make dev              # DÃ©marrage complet + vrais datasets + logs
make dev-no-data      # DÃ©marrage SANS datasets (tests uniquement)  
make quick-dev        # DÃ©marrage rapide + datasets

# GESTION
make logs            # Logs temps rÃ©el
make stop            # ArrÃªter
make clean           # Nettoyage complet
make reset           # Reset + redÃ©marrage

# DEBUGGING  
kubectl get pods -n ibis-x           # Statut services
kubectl get jobs -n ibis-x           # Statut jobs
kubectl logs -n ibis-x deployment/api-gateway  # Logs spÃ©cifiques
----

== ğŸ†˜ Support

Si vous rencontrez des problÃ¨mes :

1. **ğŸ“– Consultez** la xref:dev-guide/local-development-sequential.adoc[Documentation Technique]
2. **ğŸ” VÃ©rifiez** les logs avec `make logs`  
3. **ğŸ§¹ Nettoyez** avec `make clean` puis `make dev`
4. **ğŸ’¬ Contactez** l'Ã©quipe de dÃ©veloppement

[TIP]
.Contribution et AmÃ©lioration
====
Ce guide Ã©volue constamment ! Si vous identifiez des amÃ©liorations possibles ou rencontrez des problÃ¨mes non documentÃ©s, n'hÃ©sitez pas Ã  contribuer Ã  la documentation.
==== 