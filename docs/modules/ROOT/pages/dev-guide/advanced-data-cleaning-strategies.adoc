= Strat√©gies Avanc√©es de Nettoyage de Donn√©es Multi-Colonnes
:description: Guide complet des 3 approches principales pour le nettoyage intelligent des donn√©es
:keywords: nettoyage, donn√©es, imputation, interpolation, suppression, KNN, MICE, outliers
:page-status: stable

[.summary]
Ce guide d√©taille les trois approches principales pour nettoyer intelligemment les donn√©es dans IBIS-X : **Suppression**, **Imputation**, et **Interpolation**. Le syst√®me analyse automatiquement chaque colonne et recommande la strat√©gie optimale.

== Vue d'ensemble des strat√©gies

=== üóëÔ∏è SUPPRESSION (Deletion)

La suppression est recommand√©e quand les donn√©es sont trop corrompues pour √™tre r√©cup√©r√©es de mani√®re fiable.

[cols="3,2,5", options="header"]
|===
| M√©thode | Seuil | Description

| `drop_columns`
| >70% missing
| Supprime les colonnes avec trop de donn√©es manquantes

| `drop_rows`
| Configurable
| Supprime les lignes incompl√®tes (attention √† la perte d'information)

| `drop_outliers`
| Bas√© sur IQR/Z-score
| Supprime les valeurs aberrantes d√©tect√©es
|===

[IMPORTANT]
====
La suppression peut entra√Æner une perte significative de donn√©es. Utilisez cette approche uniquement quand :

* Plus de 70% des valeurs sont manquantes
* La colonne ne contient que du bruit
* Vous avez suffisamment de donn√©es restantes
====

=== üîß IMPUTATION (Imputation)

L'imputation remplace les valeurs manquantes par des estimations bas√©es sur les donn√©es existantes.

==== Imputation Simple (15-40% missing)

[cols="3,3,4", options="header"]
|===
| M√©thode | Type de donn√©es | Utilisation

| `mean`
| Num√©riques normales
| Distribution gaussienne, pas d'outliers extr√™mes

| `median`
| Num√©riques asym√©triques
| Donn√©es avec outliers, distributions biais√©es

| `mode`
| Cat√©gorielles
| Variables textuelles, √©tiquettes

| `constant`
| Tous types
| Valeur par d√©faut (0, "Unknown", etc.)
|===

==== Imputation Avanc√©e (40-70% missing)

[cols="3,3,4", options="header"]
|===
| M√©thode | Algorithme | Avantages

| `knn`
| K-Nearest Neighbors
| ‚Ä¢ Consid√®re la similarit√© entre lignes +
‚Ä¢ Pr√©cis pour donn√©es complexes +
‚Ä¢ G√®re les corr√©lations

| `iterative`
| MICE (Multiple Imputation)
| ‚Ä¢ Mod√©lise les d√©pendances entre colonnes +
‚Ä¢ Maximum de pr√©cision +
‚Ä¢ G√®re les patterns complexes

| `regression`
| R√©gression lin√©aire/logistique
| ‚Ä¢ Utilise les autres variables comme pr√©dicteurs +
‚Ä¢ Expliquable et interpr√©table
|===

[source,python]
----
# Exemple de configuration d'imputation KNN
{
  "strategy": "knn",
  "knn_neighbors": 5,  # Nombre de voisins √† consid√©rer
  "weights": "distance"  # Pond√©ration par distance
}

# Exemple de configuration d'imputation iterative
{
  "strategy": "iterative", 
  "max_iter": 10,  # Nombre d'it√©rations max
  "random_state": 42  # Pour la reproductibilit√©
}
----

=== üìà INTERPOLATION (Interpolation)

L'interpolation est sp√©cialement con√ßue pour les donn√©es temporelles ou s√©quentielles.

[cols="3,3,4", options="header"]
|===
| M√©thode | Type de donn√©es | Description

| `linear`
| S√©ries temporelles
| Interpolation lin√©aire entre points adjacents

| `polynomial`
| Donn√©es courbes
| Ajustement polynomial d'ordre sup√©rieur

| `spline`
| Donn√©es lisses
| Splines cubiques pour transitions douces

| `forward_fill`
| S√©quentielles
| Propage la derni√®re valeur valide

| `backward_fill`
| S√©quentielles
| Utilise la prochaine valeur valide
|===

== R√®gles de D√©cision Automatique

Le syst√®me IBIS-X utilise une logique intelligente pour choisir automatiquement la meilleure strat√©gie :

[source,yaml]
----
Analyse de Colonne:
  Pourcentage Missing > 70%:
    ‚Üí SUPPRESSION (drop_column)
    
  Pourcentage Missing 40-70%:
    Si Cat√©gorielle:
      ‚Üí IMPUTATION (mode + unknown_category)
    Si Num√©rique:
      ‚Üí IMPUTATION AVANC√âE (knn ‚Üí iterative)
      
  Pourcentage Missing 15-40%:
    Si Temporelle:
      ‚Üí INTERPOLATION (linear ‚Üí forward_fill)
    Si Cat√©gorielle:
      ‚Üí IMPUTATION (mode)
    Si Num√©rique Normale:
      ‚Üí IMPUTATION (mean ‚Üí knn)
    Si Num√©rique Asym√©trique:
      ‚Üí IMPUTATION (median ‚Üí knn)
      
  Pourcentage Missing < 15%:
    ‚Üí IMPUTATION SIMPLE (mean/median/mode)
----

== Gestion Multi-Colonnes

=== Ordre d'Ex√©cution Optimal

Le syst√®me applique les strat√©gies dans un ordre sp√©cifique pour maximiser l'efficacit√© :

. **Phase 1 : Suppression** - Colonnes trop corrompues
. **Phase 2 : Imputation Avanc√©e** - KNN et Iterative
. **Phase 3 : Imputation Simple** - Mean, Median, Mode  
. **Phase 4 : Interpolation** - Donn√©es temporelles
. **Phase 5 : Encoding & Scaling** - Pr√©paration finale

[source,python]
----
# Exemple de plan d'ex√©cution automatique
execution_plan = {
  "phase_1_suppression": ["corrupted_column"],
  "phase_2_advanced": ["income", "credit_score"], 
  "phase_3_simple": ["age", "category"],
  "phase_4_interpolation": ["timestamp"],
  "phase_5_scaling": ["all_numeric_columns"]
}
----

=== Coordination entre Fichiers

Pour des projets avec plusieurs fichiers CSV, le syst√®me maintient la coh√©rence :

[cols="2,3,3", options="header"]
|===
| Fichier | Colonnes Probl√©matiques | Strat√©gies Appliqu√©es

| `customers.csv`
| age (10% missing) +
income (45% missing)
| age ‚Üí median +
income ‚Üí knn

| `transactions.csv`
| amount (8% missing) +
timestamp (12% missing)
| amount ‚Üí median +
timestamp ‚Üí linear_interpolation

| `products.csv`
| price (85% missing) +
category (80% missing)
| price ‚Üí SUPPRESSION +
category ‚Üí SUPPRESSION
|===

== D√©tection et Traitement des Outliers

=== M√©thodes de D√©tection

[cols="2,3,3,2", options="header"]
|===
| M√©thode | Principe | Avantages | Inconv√©nients

| **IQR**
| Q3 + 1.5√óIQR
| ‚Ä¢ Robuste +
‚Ä¢ Non-param√©trique
| ‚Ä¢ Peut √™tre conservateur

| **Z-Score**
| |z| > seuil
| ‚Ä¢ Simple +
‚Ä¢ Param√©trable
| ‚Ä¢ Sensible √† la distribution

| **Isolation Forest**
| Algorithme ML
| ‚Ä¢ D√©tecte patterns complexes +
‚Ä¢ Multivari√©
| ‚Ä¢ Plus complexe √† interpr√©ter
|===

[source,python]
----
# Configuration de d√©tection d'outliers
outlier_config = {
  "method": "iqr",           # ou "zscore", "isolation"
  "threshold": 3.0,          # Pour z-score
  "contamination": 0.1,      # Pour isolation forest
  "action": "cap"            # "remove", "cap", "transform"
}
----

=== Actions sur les Outliers

* **Remove** : Supprime les outliers (attention √† la perte de donn√©es)
* **Cap** : Limite aux valeurs seuils (winsorization)
* **Transform** : Transformation logarithmique ou autre

== Scaling et Normalisation

=== M√©thodes de Scaling

[cols="2,3,3,2", options="header"]
|===
| M√©thode | Formule | Utilisation | Robustesse

| **StandardScaler**
| (x - Œº) / œÉ
| Distribution normale
| ‚≠ê‚≠ê

| **MinMaxScaler**
| (x - min) / (max - min)
| Bornes connues
| ‚≠ê

| **RobustScaler**
| (x - m√©diane) / IQR
| Avec outliers
| ‚≠ê‚≠ê‚≠ê

| **QuantileUniform**
| CDF transformation
| Distribution arbitraire
| ‚≠ê‚≠ê‚≠ê
|===

[CAUTION]
====
**Ordre Important** : Appliquez toujours le scaling APR√àS le nettoyage des donn√©es manquantes et des outliers.

```
Donn√©es Brutes ‚Üí Nettoyage Missing ‚Üí Outliers ‚Üí Scaling ‚Üí ML Model
```
====

== Interface Utilisateur

=== Toggle IA Recommandations

L'interface propose deux modes :

[tabs]
====
Mode Automatique (IA)::
+
--
* L'IA analyse automatiquement chaque colonne
* Recommande les meilleures strat√©gies
* Applique les configurations optimales
* Badge "IA" pour indiquer l'assistance intelligente
--

Mode Manuel::
+
--
* L'utilisateur choisit les strat√©gies manuellement
* Acc√®s aux param√®tres avanc√©s
* Explications d√©taill√©es pour chaque choix
* Warnings pour les configurations risqu√©es
--
====

=== Tooltips et Aide Contextuelle

Chaque option dispose d'explications int√©gr√©es :

* **Tooltips** : Explication courte au survol
* **Cards d'explication** : D√©tails avec pros/cons
* **Box d'aide** : Guide complet des 3 approches
* **Indicateurs visuels** : Complexit√© et recommandations

=== Analyse de Qualit√© en Temps R√©el

L'interface affiche :

* **Score de qualit√©** (0-100) avec code couleur
* **Niveau de s√©v√©rit√©** (none, low, medium, high, critical)
* **Issues principales** identifi√©es automatiquement
* **Recommandations sp√©cifiques** par colonne

== Exemples Pratiques

=== Dataset E-commerce

[source,yaml]
----
Dataset: commandes_ecommerce.csv
Probl√®mes identifi√©s:
  - client_age: 8% missing ‚Üí median imputation
  - prix_panier: 12% missing ‚Üí mean imputation  
  - code_promo: 65% missing ‚Üí mode + "AUCUN"
  - commentaire_client: 95% missing ‚Üí SUPPRESSION
  - date_commande: 3% missing ‚Üí linear interpolation

Plan d'ex√©cution:
  1. Supprimer: commentaire_client
  2. Imputer: code_promo (mode + "AUCUN")
  3. Imputer: prix_panier (mean), client_age (median)
  4. Interpoler: date_commande (linear)
  5. Scaler: prix_panier, client_age (standard)
----

=== Dataset IoT Capteurs

[source,yaml]
----
Dataset: capteurs_temperature.csv
Probl√®mes identifi√©s:
  - temperature: 15% missing ‚Üí linear interpolation
  - humidite: 18% missing ‚Üí linear interpolation  
  - capteur_id: 0% missing ‚Üí aucune action
  - batterie: 22% missing ‚Üí forward_fill
  - status: 45% missing ‚Üí mode imputation

Sp√©cificit√©s temporelles:
  - Interpolation privil√©gi√©e (donn√©es s√©quentielles)
  - Forward fill pour batterie (valeur persiste)
  - D√©tection d'outliers activ√©e (pannes capteurs)
----

== Monitoring et Logs

=== M√©triques de Qualit√©

Le syst√®me suit automatiquement :

* **Avant/Apr√®s** : Pourcentages de missing values
* **Colonnes supprim√©es** : Impact sur la dimensionnalit√©
* **Strat√©gies appliqu√©es** : Audit trail complet
* **Temps d'ex√©cution** : Performance par m√©thode

=== Logs d'Ex√©cution

[source,log]
----
[INFO] D√©but analyse qualit√© dataset: ecommerce_data.csv
[INFO] 4 colonnes analys√©es, 3 probl√®mes d√©tect√©s
[WARN] commentaire_client: 95% missing ‚Üí SUPPRESSION recommand√©e
[INFO] code_promo: 65% missing ‚Üí Mode + Unknown recommand√©
[INFO] Ex√©cution phase 1: Suppression (1 colonne)
[INFO] Ex√©cution phase 2: Imputation avanc√©e (1 colonne) 
[INFO] Ex√©cution phase 3: Imputation simple (2 colonnes)
[INFO] Nettoyage termin√©: 3/4 colonnes conserv√©es
[SUCCESS] Dataset pr√™t pour l'entra√Ænement ML
----

== Bonnes Pratiques

=== Do ‚úÖ

* **Analyser d'abord** : Comprendre la nature des donn√©es manquantes
* **Tester plusieurs strat√©gies** : Comparer les performances
* **Documenter les choix** : Tra√ßabilit√© des d√©cisions
* **Valider les r√©sultats** : V√©rifier la coh√©rence post-nettoyage

=== Don't ‚ùå

* **Suppression syst√©matique** : √âviter la perte d'information
* **Imputation aveugle** : Ne pas ignorer la distribution des donn√©es
* **Outliers ignor√©s** : Peuvent r√©v√©ler des insights importants
* **Scaling avant nettoyage** : L'ordre des op√©rations compte

=== Cas d'Usage Avanc√©s

==== Donn√©es D√©s√©quilibr√©es

Pour des datasets avec classes rares :

[source,python]
----
# Strat√©gie pr√©servant les classes minoritaires
strategy = {
  "missing_values": "knn",  # Pr√©serve les patterns locaux
  "outliers": "cap",        # √âvite la suppression
  "scaling": "robust"       # R√©sistant aux d√©s√©quilibres
}
----

==== Donn√©es Haute Dimensionnalit√©

Pour de nombreuses colonnes :

[source,python]
----
# Optimisation pour performance
strategy = {
  "missing_threshold": 0.5,    # Plus permissif
  "knn_neighbors": 3,          # Moins de voisins
  "max_iterations": 5,         # Convergence rapide
  "parallel": True             # Traitement parall√®le
}
----

==== Donn√©es Temporelles

Pour s√©ries chronologiques :

[source,python]
----
# Pr√©servation de la continuit√© temporelle
strategy = {
  "method": "interpolation",
  "interpolation_type": "linear",
  "fill_method": "forward",
  "limit": 3  # Max 3 valeurs cons√©cutives
}
----

== R√©solution de Probl√®mes

=== Erreurs Communes

[cols="3,4,3", options="header"]
|===
| Probl√®me | Cause | Solution

| OutOfMemoryError
| Dataset trop volumineux pour KNN/Iterative
| ‚Ä¢ R√©duire sample_size +
‚Ä¢ Utiliser imputation simple +
‚Ä¢ Traitement par chunks

| Convergence √©chou√©e
| Iterative imputation ne converge pas
| ‚Ä¢ Augmenter max_iter +
‚Ä¢ R√©duire la tolerance +
‚Ä¢ Fallback vers KNN

| Colonnes corrompues
| D√©tection automatique √©choue
| ‚Ä¢ V√©rifier types de donn√©es +
‚Ä¢ Forcer la suppression manuelle +
‚Ä¢ Nettoyer en amont
|===

=== Optimisation Performance

* **√âchantillonnage** : Tester sur un subset d'abord
* **Parall√©lisation** : Utiliser tous les c≈ìurs disponibles  
* **Cache strat√©gies** : R√©utiliser les mod√®les entra√Æn√©s
* **Profiling** : Identifier les goulots d'√©tranglement

== Int√©gration API

=== Endpoints Disponibles

[source,http]
----
POST /data-quality/analyze
{
  "dataset_id": "string",
  "target_column": "string",
  "sample_size": 5000
}

POST /data-quality/suggest-strategy  
{
  "dataset_id": "string",
  "columns": ["col1", "col2"],
  "preferences": {
    "max_missing_threshold": 0.7,
    "prefer_simple_methods": false
  }
}
----

=== R√©ponses Structur√©es

[source,json]
----
{
  "data_quality_score": 78,
  "severity_level": "medium", 
  "recommendations": {
    "age": {
      "strategy": "median",
      "confidence": 0.9,
      "explanation": "Distribution asym√©trique d√©tect√©e"
    },
    "income": {
      "strategy": "knn", 
      "confidence": 0.7,
      "explanation": "45% missing, corr√©l√© avec √¢ge"
    }
  },
  "execution_plan": ["income", "age"],
  "estimated_duration": "30 seconds"
}
----

Cette documentation fournit une base compl√®te pour comprendre et utiliser efficacement le syst√®me de nettoyage intelligent d'IBIS-X. Le syst√®me s'adapte automatiquement aux sp√©cificit√©s de vos donn√©es tout en vous laissant la possibilit√© de personnaliser les strat√©gies selon vos besoins.