= Nouvelle Identité Visuelle : Palette Sorbonne

== Vue d'ensemble

L'application IBIS-X a adopté une nouvelle identité visuelle inspirée des couleurs institutionnelles de la Sorbonne, remplaçant l'ancienne palette bleue moderne par un style plus académique et professionnel.

== Couleur Principale

**Nouvelle couleur principale :** `#242e54` (Bleu Sorbonne profond)

Cette couleur remplace l'ancienne couleur principale `#6366f1` dans tous les éléments de l'interface utilisateur.

== Palette Complète

=== Couleurs Principales
* **Primary:** `#242e54` (Bleu Sorbonne profond)
* **Primary Light:** `#3d4b7d` (Variante claire)
* **Primary Dark:** `#1a2040` (Variante foncée)
* **RGB Values:** `36, 46, 84`

=== Variables CSS Globales

[source,scss]
----
:root {
  --color-primary: #242e54;
  --color-primary-light: #3d4b7d;
  --color-primary-dark: #1a2040;
  --color-primary-rgb: 36, 46, 84;
}
----

== Système de Thèmes

=== Thème Sorbonne
Un nouveau thème `sorbonne_theme` a été créé et défini comme thème par défaut de l'application.

**Fichier:** `frontend/src/assets/scss/themecolors/_sorbonne_theme.scss`

[source,scss]
----
html.sorbonne_theme {
  --mat-sys-primary: #242e54;
  --mat-sys-primary-fixed-dim: rgba(36, 46, 84, 0.15);
  --mat-sys-secondary: rgb(87, 96, 115);
  --mat-sys-secondary-fixed-dim: rgba(87, 96, 115, 0.15);
  --mat-sys-tertiary: rgb(71, 85, 123);
}
----

=== Configuration du Thème

Le thème par défaut est configuré dans `frontend/src/app/config.ts` :

[source,typescript]
----
activeTheme: 'sorbonne_theme'
----

== Accessibilité

=== Conformité WCAG

La nouvelle couleur `#242e54` respecte les standards d'accessibilité :

* **Ratio de contraste sur fond blanc (#ffffff) :** 13.8:1
* **Conformité :** ✅ WCAG AA (minimum 4.5:1) et AAA (minimum 7:1)
* **Lisibilité :** Excellente sur tous les arrière-plans clairs

== Fichiers Modifiés

=== Fichiers de Configuration Principale
* `frontend/src/styles/_design-tokens.scss` - Design tokens globaux
* `frontend/src/app/config.ts` - Configuration du thème par défaut
* `frontend/src/assets/scss/style.scss` - Import du nouveau thème

=== Composants UI Spécialisés
* `frontend/src/app/pages/ml-pipeline/ml-studio/ml-studio.component.scss`
* `frontend/src/app/pages/ml-pipeline/wizard/ml-pipeline-wizard.component.scss`
* `frontend/src/app/pages/ml-pipeline/wizard/ml-pipeline-wizard-cleaning.scss`

=== Customizer et Navigation
* `frontend/src/assets/scss/layouts/_customizer.scss` - Ajout du sélecteur de thème Sorbonne
* `frontend/src/app/layouts/full/shared/customizer/customizer.component.html`

=== Meta-données
* `frontend/src/index.html` - Meta theme-color mise à jour

== Utilisation dans le Code

=== Recommandations

1. **Toujours utiliser les variables CSS** au lieu de couleurs hardcodées :
   ```scss
   // ✅ Correct
   background: var(--color-primary);
   
   // ❌ Éviter
   background: #242e54;
   ```

2. **Utiliser les variantes appropriées** :
   ```scss
   .button-primary {
     background: var(--color-primary);
     border: 1px solid var(--color-primary-dark);
   }
   
   .button-primary:hover {
     background: var(--color-primary-light);
   }
   ```

3. **Pour les ombres et transparences** :
   ```scss
   box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);
   ```

== Migration Automatique

Tous les anciens codes couleur ont été automatiquement remplacés :

* `#6366f1` → `#242e54`
* `#818cf8` → `#3d4b7d`
* `#4f46e5` → `#1a2040`
* `rgba(99, 102, 241, ...)` → `rgba(36, 46, 84, ...)`

== Compatibilité Navigateurs

La nouvelle palette utilise des variables CSS standard supportées par tous les navigateurs modernes :

* Chrome 49+
* Firefox 31+
* Safari 9.1+
* Edge 16+

== Tests et Validation

L'implémentation a été testée sur :

* ✅ Toutes les pages principales de l'application
* ✅ Composants ML Pipeline et ML Studio
* ✅ Interface d'administration
* ✅ Customizer de thèmes
* ✅ Mode responsive
* ✅ Conformité accessibilité WCAG AA/AAA

== Maintenance Future

Pour maintenir la cohérence visuelle :

1. Utiliser exclusivement les variables CSS définies
2. Ne jamais introduire de couleurs hardcodées
3. Tester les nouveaux composants avec le thème Sorbonne
4. Vérifier le contraste pour l'accessibilité

== Correction des Boutons Angular Material

=== Problème Identifié

Les boutons Angular Material (avec `color="primary"`) n'utilisaient pas automatiquement la nouvelle palette Sorbonne car ils dépendaient du système de thème Material Design intégré.

=== Solution Implémentée

**1. Création d'une palette Material Design complète :**

[source,scss]
----
// Palette Sorbonne avec toutes les nuances Material Design
$sorbonne-primary: (
  500: #242e54, // Couleur principale
  // + toutes les nuances 50-900, A100-A700
);

$sorbonne-theme: mat.m2-define-light-theme((
  color: (
    primary: $sorbonne-theme-primary,
    accent: $sorbonne-theme-accent, 
    warn: $sorbonne-theme-warn,
  ),
));
----

**2. Remplacement de la palette Azure :**

[source,scss]
----
// Avant
color: mat.$azure-palette,

// Après  
color: sorbonne.$sorbonne-palette,
----

**3. Application globale forcée :**

[source,scss]
----
// Variables CSS Material globales
body, html {
  --mat-sys-primary: #242e54 !important;
  --mat-sys-secondary: #9d876a !important;
  // + autres variables...
}

// Styles spécifiques boutons Material
.mat-mdc-button.mat-primary {
  --mdc-filled-button-container-color: #242e54 !important;
  --mdc-filled-button-label-text-color: #ffffff !important;
}
----

=== Résultat

✅ **Tous les boutons Angular Material utilisent maintenant la palette Sorbonne**
✅ **Cohérence parfaite sur toute l'application**
✅ **Application immédiate sans rechargement**

== Adaptation de la Page d'Onboarding

=== Problème Identifié

La page d'onboarding (`/onboarding`) utilisait une palette violette (#673ab7, #9c27b0) qui ne correspondait plus à l'identité visuelle Sorbonne.

=== Solution Harmonieuse

**1. Création d'une palette Sorbonne étendue :**

[source,scss]
----
:root {
  --sorbonne-primary: #242e54;        // Bleu Sorbonne principal
  --sorbonne-primary-light: #3d4b7d;  // Variante claire
  --sorbonne-primary-dark: #1a2040;   // Variante foncée
  --sorbonne-secondary: #9d876a;      // Beige Sorbonne
  --sorbonne-secondary-light: #b8a082; // Beige clair
  --sorbonne-secondary-dark: #8a7359;  // Beige foncé
  --sorbonne-accent: #d4c4a8;         // Ton très clair
  --sorbonne-success: #4bd08b;        // Vert pour succès
}
----

**2. Éléments redesignés :**

- **Fond de page :** Dégradé harmonieux bleu Sorbonne → beige Sorbonne
- **Icônes d'étapes :** Couleur principale Sorbonne avec ombres élégantes
- **Titre de bienvenue :** Dégradé tricolore Sorbonne
- **Feature cards :** Backgrounds subtils avec effets hover sophistiqués
- **Step dots :** Dégradés animés pour états actif/complété
- **Bulles d'arrière-plan :** Tons beige Sorbonne avec transparences

**3. Effets visuels ajoutés :**

[source,scss]
----
// Hover élégant sur feature items
&:hover {
  background: linear-gradient(135deg, 
    rgba(36, 46, 84, 0.08) 0%, 
    rgba(157, 135, 106, 0.05) 100%
  );
  box-shadow: 0 4px 12px rgba(36, 46, 84, 0.15);
}

// Step dots avec dégradés
&.active {
  background: linear-gradient(135deg, 
    var(--sorbonne-primary) 0%, 
    var(--sorbonne-primary-light) 100%
  );
}
----

=== Résultat

✅ **Page d'onboarding entièrement harmonisée avec l'identité Sorbonne**
✅ **Design élégant et professionnel conservé**
✅ **Effets visuels améliorés avec dégradés et ombres**
✅ **Cohérence parfaite avec le reste de l'application**

== Support

Pour toute question concernant la nouvelle identité visuelle ou l'utilisation de la palette Sorbonne, consulter la documentation technique ou contacter l'équipe de développement frontend.